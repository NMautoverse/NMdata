<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Parameter Tables • NMdata</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Parameter Tables">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">NMdata</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.6.923</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>

  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Vignettes

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="https://htmlpreview.github.io/?https://github.com/philipdelff/NMdata/blob/master/vignettes/NMdata-cheat.html" class="external-link">Cheat Sheet</a>
    </li>
    <li>
      <a href="../articles/NMscanData.html">NMscanData: find and combine all output and input data</a>
    </li>
    <li>
      <a href="../articles/DataPrepare.html">Data Preparation Tools</a>
    </li>
    <li>
      <a href="../articles/NMdata-FAQ.html">FAQ</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="https://github.com/philipdelff/NMdata/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/philipdelff/NMdata/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Parameter Tables</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/philipdelff/NMdata/blob/master/vignettes/ParameterTables.Rmd" class="external-link"><code>vignettes/ParameterTables.Rmd</code></a></small>
      <div class="hidden name"><code>ParameterTables.Rmd</code></div>

    </div>

    
    
<p>Parameter tables are a basic and essential look into a model
estimate. Due to Nonmem’s flexible model definition approach, getting an
informative parameter table can however be an involved process.</p>
<ul>
<li><p>Nonmem parameters like THETA(1), OMEGA(2,2), SIGMA(1,1) etc. must
be connected with physiologically interpretable parameters such as
“Clearance” or “Between-subject variability on central volume” to be
informative.</p></li>
<li><p>Physiologically interpretable parameters may be transformations
of Nonmem parameters.</p></li>
</ul>
<p>A manual or even semi-automated approach to establishing these
relationships are manually involved to quality check.</p>
<p><code>NMdata</code> offers two distinct approaches to connecting
Nonmem parameters to physiologially interpretable ones.</p>
<ul>
<li><p>Flexible, user-defined interpretation of delimited comments in
the parameter sections ($THETA, $OMEGA, and $SIGMA)
(<code>NMreadParText()</code>). This means, if you added comments in
whatever consistent way in these sections, <code>NMreadParText()</code>
is likely to be able to get it into a formatted
<code>data.frame</code>.</p></li>
<li><p>Automatic translation of Nonmem code related to direct use of the
parameters (<code><a href="../reference/NMrelate.html">NMrelate()</a></code>). This may be a pretty good approach
trying to report a Nonmem model without structured labeling in the
parameter sections. If you keep a coding standard, it may allow you to
skip manual parameter translation altogether. And lastly, it may be a
powerful QC tool in any case.</p></li>
</ul>
<p>Notice, this vignette zooms in on how to read, label and format
“parameter estimates”. It does not deal with reading input and output
data (see the <a href="https://philipdelff.github.io/NMdata/articles/NMscanData.html">NMscanData()</a>
vignette). <code>NMdata</code> contains the following functions to read
estimates from Nonmem:</p>
<ul>
<li>
<code><a href="../reference/NMreadExt.html">NMreadExt()</a></code> A feature-rich processor of ext files.
Provides final parameter estimates with uncertainties and everything
else provided in the ext file, iterations, objective function value and
termination status</li>
<li>
<code><a href="../reference/NMreadPhi.html">NMreadPhi()</a></code> Reads individual posthoc estimates into a
<code>data.frame</code>
</li>
<li>
<code><a href="../reference/NMreadCov.html">NMreadCov()</a></code> Reads an estimated variance-covariance
matrix and formats as a matrix</li>
<li>
<code><a href="../reference/NMreadShk.html">NMreadShk()</a></code> to read shrinkage tables</li>
</ul>
<p><code><a href="../reference/NMreadExt.html">NMreadExt()</a></code> is central to the topic of this vignette,
and <code><a href="../reference/NMreadShk.html">NMreadShk()</a></code> is also used. Another interesting function
is <code><a href="../reference/NMrelate.html">NMrelate()</a></code> which processes the control stream code to
automatically identify parameter names and relate them to parameters
(such as <code>CL</code> to <code>$THETA(1)</code> and
<code>$OMEGA(1,1)</code>). Read on, if interested.</p>
<div class="section level2">
<h2 id="reading-nonmem-parameter-estimates">Reading Nonmem parameter estimates<a class="anchor" aria-label="anchor" href="#reading-nonmem-parameter-estimates"></a>
</h2>
<p>Before getting into how to translate the Nonmem parameters, it is
worth mentioning how to even just read the parameter estimates with
<code>NMdata</code>. A lot of the relevant information is stored in the
<code>.ext</code> file and can be read using
<code><a href="../reference/NMreadExt.html">NMreadExt()</a></code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## file.mod &lt;- system.file("examples/nonmem/xgxr001.mod",package="NMdata")</span></span>
<span><span class="co">## file.mod &lt;- system.file("examples/nonmem/xgxr132.mod",package="NMdata")</span></span>
<span><span class="va">file.mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"examples/nonmem/xgxr133.mod"</span>,package<span class="op">=</span><span class="st">"NMdata"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">##NMreadExt(file.mod,return="objv")</span></span>
<span><span class="va">pars.ext</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/NMreadExt.html">NMreadExt</a></span><span class="op">(</span><span class="va">file.mod</span><span class="op">)</span></span></code></pre></div>
<p>This does provide a basic parameter table.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">pars.ext</span><span class="op">[</span>,<span class="fu">.</span><span class="op">(</span><span class="va">par.name</span>,<span class="va">FIX</span>,<span class="va">value</span>,<span class="va">se</span><span class="op">)</span><span class="op">]</span> <span class="op">|&gt;</span> <span class="fu">kable</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">par.name</th>
<th align="right">FIX</th>
<th align="right">value</th>
<th align="right">se</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">THETA(1)</td>
<td align="right">0</td>
<td align="right">0.8028730</td>
<td align="right">0.0642182</td>
</tr>
<tr class="even">
<td align="left">THETA(2)</td>
<td align="right">0</td>
<td align="right">4.3165400</td>
<td align="right">0.0586268</td>
</tr>
<tr class="odd">
<td align="left">THETA(3)</td>
<td align="right">0</td>
<td align="right">2.5524100</td>
<td align="right">0.0916355</td>
</tr>
<tr class="even">
<td align="left">THETA(4)</td>
<td align="right">0</td>
<td align="right">5.1554800</td>
<td align="right">0.2547830</td>
</tr>
<tr class="odd">
<td align="left">THETA(5)</td>
<td align="right">0</td>
<td align="right">2.1515900</td>
<td align="right">0.0647584</td>
</tr>
<tr class="even">
<td align="left">THETA(6)</td>
<td align="right">0</td>
<td align="right">0.4427680</td>
<td align="right">0.1405420</td>
</tr>
<tr class="odd">
<td align="left">OMEGA(1,1)</td>
<td align="right">1</td>
<td align="right">0.0000000</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="left">OMEGA(2,1)</td>
<td align="right">1</td>
<td align="right">0.0000000</td>
<td align="right">0.0000000</td>
</tr>
<tr class="odd">
<td align="left">OMEGA(2,2)</td>
<td align="right">0</td>
<td align="right">0.1737760</td>
<td align="right">0.0312273</td>
</tr>
<tr class="even">
<td align="left">OMEGA(3,1)</td>
<td align="right">1</td>
<td align="right">0.0000000</td>
<td align="right">0.0000000</td>
</tr>
<tr class="odd">
<td align="left">OMEGA(3,2)</td>
<td align="right">0</td>
<td align="right">-0.0478580</td>
<td align="right">0.0254373</td>
</tr>
<tr class="even">
<td align="left">OMEGA(3,3)</td>
<td align="right">0</td>
<td align="right">0.2542050</td>
<td align="right">0.0433948</td>
</tr>
<tr class="odd">
<td align="left">OMEGA(4,1)</td>
<td align="right">1</td>
<td align="right">0.0000000</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="left">OMEGA(4,2)</td>
<td align="right">1</td>
<td align="right">0.0000000</td>
<td align="right">0.0000000</td>
</tr>
<tr class="odd">
<td align="left">OMEGA(4,3)</td>
<td align="right">1</td>
<td align="right">0.0000000</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="left">OMEGA(4,4)</td>
<td align="right">1</td>
<td align="right">0.0000000</td>
<td align="right">0.0000000</td>
</tr>
<tr class="odd">
<td align="left">OMEGA(5,1)</td>
<td align="right">1</td>
<td align="right">0.0000000</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="left">OMEGA(5,2)</td>
<td align="right">1</td>
<td align="right">0.0000000</td>
<td align="right">0.0000000</td>
</tr>
<tr class="odd">
<td align="left">OMEGA(5,3)</td>
<td align="right">1</td>
<td align="right">0.0000000</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="left">OMEGA(5,4)</td>
<td align="right">1</td>
<td align="right">0.0000000</td>
<td align="right">0.0000000</td>
</tr>
<tr class="odd">
<td align="left">OMEGA(5,5)</td>
<td align="right">1</td>
<td align="right">0.0000000</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="left">SIGMA(1,1)</td>
<td align="right">0</td>
<td align="right">0.0812994</td>
<td align="right">0.0054321</td>
</tr>
<tr class="odd">
<td align="left">SIGMA(2,1)</td>
<td align="right">1</td>
<td align="right">0.0000000</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="left">SIGMA(2,2)</td>
<td align="right">1</td>
<td align="right">0.0000000</td>
<td align="right">0.0000000</td>
</tr>
</tbody>
</table>
<p><code><a href="../reference/NMreadExt.html">NMreadExt()</a></code> does return more than that. These are all
the columns available:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">pars.ext</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "model"       "TABLENO"     "NMREP"       "table.step"  "par.type"   </span></span>
<span><span class="co">#&gt;  [6] "parameter"   "par.name"    "i"           "j"           "FIX"        </span></span>
<span><span class="co">#&gt; [11] "value"       "cond"        "eigCor"      "partLik"     "se"         </span></span>
<span><span class="co">#&gt; [16] "seStdDevCor" "stdDevCor"   "termStat"    "est"         "iblock"     </span></span>
<span><span class="co">#&gt; [21] "blocksize"</span></span></code></pre></div>
<p>where <code>est</code> is a deprecated copy of the <code>value</code>
column.</p>
<p><code><a href="../reference/NMreadExt.html">NMreadExt()</a></code> can return other information than the
parameter estimates. This vignette is about creating parameter tables so
for now, let this be a teaser for what else <code><a href="../reference/NMreadExt.html">NMreadExt()</a></code>
provides (which is all the info in <code>.ext</code> files):</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="fu"><a href="../reference/NMreadExt.html">NMreadExt</a></span><span class="op">(</span><span class="va">file.mod</span>,return<span class="op">=</span><span class="st">"all"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "pars"       "iterations" "obj"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="retrieve-physiologically-interpretable-labels-using-parameter-section-annotations">Retrieve physiologically interpretable labels using parameter
section annotations<a class="anchor" aria-label="anchor" href="#retrieve-physiologically-interpretable-labels-using-parameter-section-annotations"></a>
</h2>
<p>The above parameter table is not useful to many, maybe not even to
the person who wrote the model. The parameter sections of the control
stream contain consistently formatted information we can use.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/NMreadSection.html">NMreadSection</a></span><span class="op">(</span><span class="va">file.mod</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"THETA"</span>,<span class="st">"OMEGA"</span>,<span class="st">"SIGMA"</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; $THETA  (.1)             ; 1 : LTVKA ; Absorption rate [1/h] ; log</span></span>
<span><span class="co">#&gt; $THETA  (3)             ; 2 : LTVV2 ;  Central volume [L] ; log</span></span>
<span><span class="co">#&gt; $THETA  (1)             ; 3 : LTVCL ; Clearance [L/h] ; log</span></span>
<span><span class="co">#&gt; $THETA  (4)             ; 4 : LTVV3 ; Peripheral volume [L] ; log</span></span>
<span><span class="co">#&gt; $THETA  (-1)             ; 5 : LTVQ ; Intercomparmental clearance [L/h] ; log</span></span>
<span><span class="co">#&gt; $THETA .1              ; 6 : AGEEFF ; Age effect on clearance []; log </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $OMEGA 0 FIX ; 1 : BSV.KA ; KA Between-subject variability</span></span>
<span><span class="co">#&gt; $OMEGA BLOCK(2)</span></span>
<span><span class="co">#&gt; 0.1   ; 2 : BSV.V2 ; V2 Between-subject variability</span></span>
<span><span class="co">#&gt;  0.01   ; 2-3 : Cov.BSV.V2-CL ; V2 Between-subject variability</span></span>
<span><span class="co">#&gt;  0.1   ; 3 : BSV.CL ; CL Between-subject variability</span></span>
<span><span class="co">#&gt; $OMEGA 0 FIX ; 4 : BSV.V3 ; V3 Between-subject variability</span></span>
<span><span class="co">#&gt; $OMEGA 0 FIX ; 5 : BSV.Q  ; Q Between-subject variability </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $SIGMA 0.1    ; SigP - Prop err</span></span>
<span><span class="co">#&gt; $SIGMA 0 FIX  ; SigA - Add err</span></span></code></pre>
<p><code><a href="../reference/NMreadParsText.html">NMdata::NMreadParsText()</a></code> provides a very flexible way to
read this information into R. One has to provide the format used in the
control stream in a simple way. Take a look at the annotations shown
above. Following an optional
<code>$THETA</code>/<code>$OMEGA</code>/<code>$SIGMA</code>, each line
contains the initial value specification used by Nonmem, and then
comments containing a counter, a variable name (symbol), and a label
string. <code>$THETA</code> also includes units and transformation
coding (<code>log</code> means the physiological parameter is the
exponentail of the <code>$THETA</code>). <code>SIGMA</code> is coded
simpler, only holding a symbol and a label separated by a dash. We
mimick that in the <code>format</code> arguments to
<code><a href="../reference/NMreadParsText.html">NMreadParsText()</a></code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">partab</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/NMreadParsText.html">NMreadParsText</a></span><span class="op">(</span><span class="va">file.mod</span>,format<span class="op">=</span><span class="st">"%init;%idx:%symbol;%label[%unit];%trans"</span>,</span>
<span>                         format.sigma<span class="op">=</span><span class="st">"%init;%symbol-%label"</span><span class="op">)</span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">partab</span><span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<colgroup>
<col width="5%">
<col width="3%">
<col width="13%">
<col width="30%">
<col width="4%">
<col width="5%">
<col width="8%">
<col width="2%">
<col width="2%">
<col width="10%">
<col width="7%">
</colgroup>
<thead><tr class="header">
<th align="left">init</th>
<th align="left">idx</th>
<th align="left">symbol</th>
<th align="left">label</th>
<th align="left">unit</th>
<th align="left">trans</th>
<th align="left">par.type</th>
<th align="right">i</th>
<th align="right">j</th>
<th align="left">parameter</th>
<th align="left">model</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">(.1)</td>
<td align="left">1</td>
<td align="left">LTVKA</td>
<td align="left">Absorption rate</td>
<td align="left">1/h</td>
<td align="left">log</td>
<td align="left">THETA</td>
<td align="right">1</td>
<td align="right">NA</td>
<td align="left">THETA1</td>
<td align="left">xgxr133</td>
</tr>
<tr class="even">
<td align="left">(3)</td>
<td align="left">2</td>
<td align="left">LTVV2</td>
<td align="left">Central volume</td>
<td align="left">L</td>
<td align="left">log</td>
<td align="left">THETA</td>
<td align="right">2</td>
<td align="right">NA</td>
<td align="left">THETA2</td>
<td align="left">xgxr133</td>
</tr>
<tr class="odd">
<td align="left">(1)</td>
<td align="left">3</td>
<td align="left">LTVCL</td>
<td align="left">Clearance</td>
<td align="left">L/h</td>
<td align="left">log</td>
<td align="left">THETA</td>
<td align="right">3</td>
<td align="right">NA</td>
<td align="left">THETA3</td>
<td align="left">xgxr133</td>
</tr>
<tr class="even">
<td align="left">(4)</td>
<td align="left">4</td>
<td align="left">LTVV3</td>
<td align="left">Peripheral volume</td>
<td align="left">L</td>
<td align="left">log</td>
<td align="left">THETA</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="left">THETA4</td>
<td align="left">xgxr133</td>
</tr>
<tr class="odd">
<td align="left">(-1)</td>
<td align="left">5</td>
<td align="left">LTVQ</td>
<td align="left">Intercomparmental clearance</td>
<td align="left">L/h</td>
<td align="left">log</td>
<td align="left">THETA</td>
<td align="right">5</td>
<td align="right">NA</td>
<td align="left">THETA5</td>
<td align="left">xgxr133</td>
</tr>
<tr class="even">
<td align="left">.1</td>
<td align="left">6</td>
<td align="left">AGEEFF</td>
<td align="left">Age effect on clearance</td>
<td align="left"></td>
<td align="left">log</td>
<td align="left">THETA</td>
<td align="right">6</td>
<td align="right">NA</td>
<td align="left">THETA6</td>
<td align="left">xgxr133</td>
</tr>
<tr class="odd">
<td align="left">0 FIX</td>
<td align="left">1</td>
<td align="left">BSV.KA</td>
<td align="left">KA Between-subject variability</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">OMEGA</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">OMEGA(1,1)</td>
<td align="left">xgxr133</td>
</tr>
<tr class="even">
<td align="left">0.1</td>
<td align="left">2</td>
<td align="left">BSV.V2</td>
<td align="left">V2 Between-subject variability</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">OMEGA</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="left">OMEGA(2,2)</td>
<td align="left">xgxr133</td>
</tr>
<tr class="odd">
<td align="left">0.01</td>
<td align="left">2-3</td>
<td align="left">Cov.BSV.V2-CL</td>
<td align="left">V2 Between-subject variability</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">OMEGA</td>
<td align="right">3</td>
<td align="right">2</td>
<td align="left">OMEGA(3,2)</td>
<td align="left">xgxr133</td>
</tr>
<tr class="even">
<td align="left">0.1</td>
<td align="left">3</td>
<td align="left">BSV.CL</td>
<td align="left">CL Between-subject variability</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">OMEGA</td>
<td align="right">3</td>
<td align="right">3</td>
<td align="left">OMEGA(3,3)</td>
<td align="left">xgxr133</td>
</tr>
<tr class="odd">
<td align="left">0 FIX</td>
<td align="left">4</td>
<td align="left">BSV.V3</td>
<td align="left">V3 Between-subject variability</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">OMEGA</td>
<td align="right">4</td>
<td align="right">4</td>
<td align="left">OMEGA(4,4)</td>
<td align="left">xgxr133</td>
</tr>
<tr class="even">
<td align="left">0 FIX</td>
<td align="left">5</td>
<td align="left">BSV.Q</td>
<td align="left">Q Between-subject variability</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">OMEGA</td>
<td align="right">5</td>
<td align="right">5</td>
<td align="left">OMEGA(5,5)</td>
<td align="left">xgxr133</td>
</tr>
<tr class="odd">
<td align="left">0.1</td>
<td align="left">1</td>
<td align="left">SigP</td>
<td align="left">Prop err</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">SIGMA</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">SIGMA(1,1)</td>
<td align="left">xgxr133</td>
</tr>
<tr class="even">
<td align="left">0 FIX</td>
<td align="left">2</td>
<td align="left">SigA</td>
<td align="left">Add err</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">SIGMA</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="left">SIGMA(2,2)</td>
<td align="left">xgxr133</td>
</tr>
</tbody>
</table>
<p>Notice a couple of things here.</p>
<ul>
<li>A variable must be defined in the format by using a <code>%</code>
followed by alphanumeric characters.</li>
</ul>
<p>Non-alphanumeric characters can be used as delimiters. In this case
<code>;</code> is used as the delimiter most of the time, but not
concistently. After the counter a <code>:</code> was used. And in fact,
the brackets around the units (<code>[1/h]</code>) are delimiters too.
In this case <code>[</code> is a delimiter on its own, and
<code>]</code> form a multi-charater delimitor together with the
following <code>;</code>.</p>
<ul>
<li>Spaces around delimitors are ignored</li>
</ul>
<p>We did not specfiy any spaces, and spaces around delimitors are
ignored altogeter by default. You musst use the
<code>spaces.split</code> argument if you want to respect spaces as
delimitors.</p>
<ul>
<li>Not all fields need be available in all lines</li>
</ul>
<p>In fact, we did not specify two distinct formats for
<code>$THETA</code> and <code>$OMEGA</code> even though
<code>$OMEGA</code> lines do no include units and transformations.
<code>NA</code>’s are filled in where information is missing. However,
you cannot skip delimitors in a line. You can skip contents, but the
structure must be consistent. As an example, see how the unit is skipped
on <code>THETA(A) - AGEEFF</code>.</p>
<ul>
<li>Distinct formats are allowed for <code>$THETA</code>,
<code>$OMEGA</code> and <code>$SIGMA</code>
</li>
</ul>
<p><code>format</code> always applies to <code>$THETA</code> and is
inherited to use for <code>$OMEGA</code> if <code>format.omega</code> is
not supplied. The format used for <code>$OMEGA</code> is inherited for
<code>$SIGMA</code> if <code>format.sigma</code> is not provided.</p>
<ul>
<li>An index variable is only needed when off-diagonal elements are
included</li>
</ul>
<p>In this example, the correlation between two <code>$OMEGA</code>
elements is estimated. <code><a href="../reference/NMreadParsText.html">NMreadParsText()</a></code> cannot figure out
on its own how to connect comments to those off-diagonal elements in
<code>$OMEGA</code> and/or <code>$SIGMA</code>. Currently, an index
variable must be included with the <code>i-j</code> format for these to
be read correctly. The name of the column to be used as the index
variable can be controlled using the <code>field.idx</code>
argument.</p>
<p>See more examples in <code>?NMreadParsText()</code> to better
understand how you can tweak the formats to match your needs.</p>
</div>
<div class="section level2">
<h2 id="merge-parameter-estimates-and-parameter-labels">Merge parameter estimates and parameter labels<a class="anchor" aria-label="anchor" href="#merge-parameter-estimates-and-parameter-labels"></a>
</h2>
<p>And we can format a parameter table with labels merging with the ext
file:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">partab2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mergeCheck.html">mergeCheck</a></span><span class="op">(</span><span class="va">pars.ext</span>,</span>
<span>           <span class="va">partab</span>,</span>
<span>           by<span class="op">=</span><span class="st">"parameter"</span>,</span>
<span>           all.x<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>           fun.commoncols<span class="op">=</span><span class="st">"drop.y"</span>,</span>
<span>           quiet<span class="op">=</span><span class="cn">TRUE</span></span>
<span>           <span class="op">)</span></span>
<span><span class="co">#&gt; "fun.commoncols" argument deprecated. Use "common.cols" instead.</span></span>
<span><span class="va">partab2</span><span class="op">[</span>,<span class="va">value.trans</span><span class="op">:=</span><span class="va">value</span><span class="op">]</span></span>
<span><span class="va">partab2</span><span class="op">[</span><span class="va">trans</span><span class="op">==</span><span class="st">"log"</span>,<span class="va">value.trans</span><span class="op">:=</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">value</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">partab2</span><span class="op">[</span>,<span class="fu">.</span><span class="op">(</span><span class="va">par.name</span>,<span class="va">symbol</span>,<span class="va">FIX</span>,<span class="va">label</span>,<span class="va">unit</span>,Estimate<span class="op">=</span><span class="va">value.trans</span>,RSE<span class="op">=</span><span class="va">se</span><span class="op">/</span><span class="va">value</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="12%">
<col width="15%">
<col width="4%">
<col width="35%">
<col width="5%">
<col width="13%">
<col width="12%">
</colgroup>
<thead><tr class="header">
<th align="left">par.name</th>
<th align="left">symbol</th>
<th align="right">FIX</th>
<th align="left">label</th>
<th align="left">unit</th>
<th align="right">Estimate</th>
<th align="right">RSE</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">THETA(1)</td>
<td align="left">LTVKA</td>
<td align="right">0</td>
<td align="left">Absorption rate</td>
<td align="left">1/h</td>
<td align="right">2.2319441</td>
<td align="right">0.0799855</td>
</tr>
<tr class="even">
<td align="left">THETA(2)</td>
<td align="left">LTVV2</td>
<td align="right">0</td>
<td align="left">Central volume</td>
<td align="left">L</td>
<td align="right">74.9289252</td>
<td align="right">0.0135819</td>
</tr>
<tr class="odd">
<td align="left">THETA(3)</td>
<td align="left">LTVCL</td>
<td align="right">0</td>
<td align="left">Clearance</td>
<td align="left">L/h</td>
<td align="right">12.8380061</td>
<td align="right">0.0359016</td>
</tr>
<tr class="even">
<td align="left">THETA(4)</td>
<td align="left">LTVV3</td>
<td align="right">0</td>
<td align="left">Peripheral volume</td>
<td align="left">L</td>
<td align="right">173.3790087</td>
<td align="right">0.0494198</td>
</tr>
<tr class="odd">
<td align="left">THETA(5)</td>
<td align="left">LTVQ</td>
<td align="right">0</td>
<td align="left">Intercomparmental clearance</td>
<td align="left">L/h</td>
<td align="right">8.5985192</td>
<td align="right">0.0300979</td>
</tr>
<tr class="even">
<td align="left">THETA(6)</td>
<td align="left">AGEEFF</td>
<td align="right">0</td>
<td align="left">Age effect on clearance</td>
<td align="left"></td>
<td align="right">1.5570111</td>
<td align="right">0.3174168</td>
</tr>
<tr class="odd">
<td align="left">OMEGA(1,1)</td>
<td align="left">BSV.KA</td>
<td align="right">1</td>
<td align="left">KA Between-subject variability</td>
<td align="left">NA</td>
<td align="right">0.0000000</td>
<td align="right">NaN</td>
</tr>
<tr class="even">
<td align="left">OMEGA(2,1)</td>
<td align="left">NA</td>
<td align="right">1</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">0.0000000</td>
<td align="right">NaN</td>
</tr>
<tr class="odd">
<td align="left">OMEGA(2,2)</td>
<td align="left">BSV.V2</td>
<td align="right">0</td>
<td align="left">V2 Between-subject variability</td>
<td align="left">NA</td>
<td align="right">0.1737760</td>
<td align="right">0.1796986</td>
</tr>
<tr class="even">
<td align="left">OMEGA(3,1)</td>
<td align="left">NA</td>
<td align="right">1</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">0.0000000</td>
<td align="right">NaN</td>
</tr>
<tr class="odd">
<td align="left">OMEGA(3,2)</td>
<td align="left">Cov.BSV.V2-CL</td>
<td align="right">0</td>
<td align="left">V2 Between-subject variability</td>
<td align="left">NA</td>
<td align="right">-0.0478580</td>
<td align="right">-0.5315162</td>
</tr>
<tr class="even">
<td align="left">OMEGA(3,3)</td>
<td align="left">BSV.CL</td>
<td align="right">0</td>
<td align="left">CL Between-subject variability</td>
<td align="left">NA</td>
<td align="right">0.2542050</td>
<td align="right">0.1707079</td>
</tr>
<tr class="odd">
<td align="left">OMEGA(4,1)</td>
<td align="left">NA</td>
<td align="right">1</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">0.0000000</td>
<td align="right">NaN</td>
</tr>
<tr class="even">
<td align="left">OMEGA(4,2)</td>
<td align="left">NA</td>
<td align="right">1</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">0.0000000</td>
<td align="right">NaN</td>
</tr>
<tr class="odd">
<td align="left">OMEGA(4,3)</td>
<td align="left">NA</td>
<td align="right">1</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">0.0000000</td>
<td align="right">NaN</td>
</tr>
<tr class="even">
<td align="left">OMEGA(4,4)</td>
<td align="left">BSV.V3</td>
<td align="right">1</td>
<td align="left">V3 Between-subject variability</td>
<td align="left">NA</td>
<td align="right">0.0000000</td>
<td align="right">NaN</td>
</tr>
<tr class="odd">
<td align="left">OMEGA(5,1)</td>
<td align="left">NA</td>
<td align="right">1</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">0.0000000</td>
<td align="right">NaN</td>
</tr>
<tr class="even">
<td align="left">OMEGA(5,2)</td>
<td align="left">NA</td>
<td align="right">1</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">0.0000000</td>
<td align="right">NaN</td>
</tr>
<tr class="odd">
<td align="left">OMEGA(5,3)</td>
<td align="left">NA</td>
<td align="right">1</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">0.0000000</td>
<td align="right">NaN</td>
</tr>
<tr class="even">
<td align="left">OMEGA(5,4)</td>
<td align="left">NA</td>
<td align="right">1</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">0.0000000</td>
<td align="right">NaN</td>
</tr>
<tr class="odd">
<td align="left">OMEGA(5,5)</td>
<td align="left">BSV.Q</td>
<td align="right">1</td>
<td align="left">Q Between-subject variability</td>
<td align="left">NA</td>
<td align="right">0.0000000</td>
<td align="right">NaN</td>
</tr>
<tr class="even">
<td align="left">SIGMA(1,1)</td>
<td align="left">SigP</td>
<td align="right">0</td>
<td align="left">Prop err</td>
<td align="left">NA</td>
<td align="right">0.0812994</td>
<td align="right">0.0668157</td>
</tr>
<tr class="odd">
<td align="left">SIGMA(2,1)</td>
<td align="left">NA</td>
<td align="right">1</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">0.0000000</td>
<td align="right">NaN</td>
</tr>
<tr class="even">
<td align="left">SIGMA(2,2)</td>
<td align="left">SigA</td>
<td align="right">1</td>
<td align="left">Add err</td>
<td align="left">NA</td>
<td align="right">0.0000000</td>
<td align="right">NaN</td>
</tr>
</tbody>
</table>
<p>The left join we did with <code>mergeCheck</code> includes all
parameters from the ext file. In this case we want to skip all the
off-diagonals in $OMEGA and $SIGMA because they are not estimated. Let’s
just look at the onese that were estimated. In many cases some fixed
parameters can be relevant to include in a parameter table, and then you
need to modify this step.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">partab2</span><span class="op">[</span><span class="va">FIX</span><span class="op">==</span><span class="fl">0</span>,<span class="fu">.</span><span class="op">(</span><span class="va">par.name</span>,<span class="va">symbol</span>,<span class="va">label</span>,<span class="va">unit</span>,Estimate<span class="op">=</span><span class="fu">NMcalc</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/NMcalc/man/signif2.html" class="external-link">signif2</a></span><span class="op">(</span><span class="va">value.trans</span>,<span class="fl">3</span><span class="op">)</span>,RSE<span class="op">=</span><span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/percent_format.html" class="external-link">percent</a></span><span class="op">(</span><span class="va">se</span><span class="op">/</span><span class="va">value</span>,accuracy<span class="op">=</span><span class="fl">.1</span><span class="op">)</span><span class="op">)</span><span class="op">]</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">kable</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="14%">
<col width="18%">
<col width="40%">
<col width="6%">
<col width="11%">
<col width="9%">
</colgroup>
<thead><tr class="header">
<th align="left">par.name</th>
<th align="left">symbol</th>
<th align="left">label</th>
<th align="left">unit</th>
<th align="left">Estimate</th>
<th align="left">RSE</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">THETA(1)</td>
<td align="left">LTVKA</td>
<td align="left">Absorption rate</td>
<td align="left">1/h</td>
<td align="left">2.23</td>
<td align="left">8.0%</td>
</tr>
<tr class="even">
<td align="left">THETA(2)</td>
<td align="left">LTVV2</td>
<td align="left">Central volume</td>
<td align="left">L</td>
<td align="left">74.9</td>
<td align="left">1.4%</td>
</tr>
<tr class="odd">
<td align="left">THETA(3)</td>
<td align="left">LTVCL</td>
<td align="left">Clearance</td>
<td align="left">L/h</td>
<td align="left">12.8</td>
<td align="left">3.6%</td>
</tr>
<tr class="even">
<td align="left">THETA(4)</td>
<td align="left">LTVV3</td>
<td align="left">Peripheral volume</td>
<td align="left">L</td>
<td align="left">173</td>
<td align="left">4.9%</td>
</tr>
<tr class="odd">
<td align="left">THETA(5)</td>
<td align="left">LTVQ</td>
<td align="left">Intercomparmental clearance</td>
<td align="left">L/h</td>
<td align="left">8.60</td>
<td align="left">3.0%</td>
</tr>
<tr class="even">
<td align="left">THETA(6)</td>
<td align="left">AGEEFF</td>
<td align="left">Age effect on clearance</td>
<td align="left"></td>
<td align="left">1.56</td>
<td align="left">31.7%</td>
</tr>
<tr class="odd">
<td align="left">OMEGA(2,2)</td>
<td align="left">BSV.V2</td>
<td align="left">V2 Between-subject variability</td>
<td align="left">NA</td>
<td align="left">0.174</td>
<td align="left">18.0%</td>
</tr>
<tr class="even">
<td align="left">OMEGA(3,2)</td>
<td align="left">Cov.BSV.V2-CL</td>
<td align="left">V2 Between-subject variability</td>
<td align="left">NA</td>
<td align="left">-0.0479</td>
<td align="left">-53.2%</td>
</tr>
<tr class="odd">
<td align="left">OMEGA(3,3)</td>
<td align="left">BSV.CL</td>
<td align="left">CL Between-subject variability</td>
<td align="left">NA</td>
<td align="left">0.254</td>
<td align="left">17.1%</td>
</tr>
<tr class="even">
<td align="left">SIGMA(1,1)</td>
<td align="left">SigP</td>
<td align="left">Prop err</td>
<td align="left">NA</td>
<td align="left">0.0813</td>
<td align="left">6.7%</td>
</tr>
</tbody>
</table>
<p>We need to explain that RSE’s were calculated on the log scale for
the transformed parameters. We could also want to add confidence
intervals based on the estimated standard error on the log scale. But we
are getting close.</p>
<div class="section level3">
<h3 id="add-shrinkage">Add shrinkage<a class="anchor" aria-label="anchor" href="#add-shrinkage"></a>
</h3>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">shk</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/NMreadShk.html">NMreadShk</a></span><span class="op">(</span><span class="va">file.mod</span><span class="op">)</span></span>
<span></span>
<span><span class="va">partab3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mergeCheck.html">mergeCheck</a></span><span class="op">(</span><span class="va">partab2</span>,<span class="va">shk</span><span class="op">[</span>,<span class="fu">.</span><span class="op">(</span><span class="va">par.name</span>,Pval<span class="op">=</span><span class="fu">signif2</span><span class="op">(</span><span class="va">Pval</span>,<span class="fl">2</span><span class="op">)</span>,<span class="va">etabar</span>,EtaShkSD<span class="op">=</span><span class="fu">percent</span><span class="op">(</span><span class="va">EtaShkSD</span><span class="op">/</span><span class="fl">100</span><span class="op">)</span><span class="op">)</span><span class="op">]</span>,by<span class="op">=</span><span class="st">"par.name"</span>,all.x<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Column(s) added: Pval, etabar, EtaShkSD</span></span>
<span><span class="va">partab3</span><span class="op">[</span><span class="va">FIX</span><span class="op">==</span><span class="fl">0</span>,<span class="fu">.</span><span class="op">(</span><span class="va">par.name</span>,<span class="va">symbol</span>,<span class="va">label</span>,<span class="va">unit</span>,Estimate<span class="op">=</span><span class="fu">NMcalc</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/NMcalc/man/signif2.html" class="external-link">signif2</a></span><span class="op">(</span><span class="va">value.trans</span>,<span class="fl">3</span><span class="op">)</span>,RSE<span class="op">=</span><span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/percent_format.html" class="external-link">percent</a></span><span class="op">(</span><span class="va">se</span><span class="op">/</span><span class="va">value</span>,accuracy<span class="op">=</span><span class="fl">.1</span><span class="op">)</span>,<span class="va">Pval</span>,<span class="va">etabar</span>,<span class="va">EtaShkSD</span><span class="op">)</span><span class="op">]</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">kable</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="10%">
<col width="13%">
<col width="30%">
<col width="4%">
<col width="8%">
<col width="6%">
<col width="4%">
<col width="10%">
<col width="8%">
</colgroup>
<thead><tr class="header">
<th align="left">par.name</th>
<th align="left">symbol</th>
<th align="left">label</th>
<th align="left">unit</th>
<th align="left">Estimate</th>
<th align="left">RSE</th>
<th align="left">Pval</th>
<th align="right">etabar</th>
<th align="left">EtaShkSD</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">THETA(1)</td>
<td align="left">LTVKA</td>
<td align="left">Absorption rate</td>
<td align="left">1/h</td>
<td align="left">2.23</td>
<td align="left">8.0%</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">THETA(2)</td>
<td align="left">LTVV2</td>
<td align="left">Central volume</td>
<td align="left">L</td>
<td align="left">74.9</td>
<td align="left">1.4%</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">THETA(3)</td>
<td align="left">LTVCL</td>
<td align="left">Clearance</td>
<td align="left">L/h</td>
<td align="left">12.8</td>
<td align="left">3.6%</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">THETA(4)</td>
<td align="left">LTVV3</td>
<td align="left">Peripheral volume</td>
<td align="left">L</td>
<td align="left">173</td>
<td align="left">4.9%</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">THETA(5)</td>
<td align="left">LTVQ</td>
<td align="left">Intercomparmental clearance</td>
<td align="left">L/h</td>
<td align="left">8.60</td>
<td align="left">3.0%</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">THETA(6)</td>
<td align="left">AGEEFF</td>
<td align="left">Age effect on clearance</td>
<td align="left"></td>
<td align="left">1.56</td>
<td align="left">31.7%</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">OMEGA(2,2)</td>
<td align="left">BSV.V2</td>
<td align="left">V2 Between-subject variability</td>
<td align="left">NA</td>
<td align="left">0.174</td>
<td align="left">18.0%</td>
<td align="left">0.97</td>
<td align="right">-0.0014793</td>
<td align="left">7.3%</td>
</tr>
<tr class="even">
<td align="left">OMEGA(3,2)</td>
<td align="left">Cov.BSV.V2-CL</td>
<td align="left">V2 Between-subject variability</td>
<td align="left">NA</td>
<td align="left">-0.0479</td>
<td align="left">-53.2%</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">OMEGA(3,3)</td>
<td align="left">BSV.CL</td>
<td align="left">CL Between-subject variability</td>
<td align="left">NA</td>
<td align="left">0.254</td>
<td align="left">17.1%</td>
<td align="left">0.99</td>
<td align="right">-0.0006435</td>
<td align="left">10.1%</td>
</tr>
<tr class="even">
<td align="left">SIGMA(1,1)</td>
<td align="left">SigP</td>
<td align="left">Prop err</td>
<td align="left">NA</td>
<td align="left">0.0813</td>
<td align="left">6.7%</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="left">NA</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="correlation-estimates">Correlation estimates<a class="anchor" aria-label="anchor" href="#correlation-estimates"></a>
</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">Partab4</span> <span class="op">&lt;-</span> <span class="fu">NMdata</span><span class="fu">::</span><span class="fu"><a href="../reference/addOmegaCorr.html">addOmegaCorr</a></span><span class="op">(</span><span class="va">partab2</span><span class="op">)</span></span>
<span><span class="co">#&gt; Column(s) added: corr</span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">Partab4</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="2%">
<col width="2%">
<col width="2%">
<col width="4%">
<col width="3%">
<col width="4%">
<col width="4%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="4%">
<col width="3%">
<col width="3%">
<col width="4%">
<col width="3%">
<col width="4%">
<col width="3%">
<col width="3%">
<col width="4%">
<col width="2%">
<col width="3%">
<col width="2%">
<col width="1%">
<col width="5%">
<col width="11%">
<col width="1%">
<col width="2%">
<col width="4%">
<col width="4%">
</colgroup>
<thead><tr class="header">
<th align="left">model</th>
<th align="right">TABLENO</th>
<th align="right">NMREP</th>
<th align="left">table.step</th>
<th align="left">par.type</th>
<th align="left">parameter</th>
<th align="left">par.name</th>
<th align="right">i</th>
<th align="right">j</th>
<th align="right">FIX</th>
<th align="right">value</th>
<th align="right">cond</th>
<th align="right">eigCor</th>
<th align="right">partLik</th>
<th align="right">se</th>
<th align="right">seStdDevCor</th>
<th align="right">stdDevCor</th>
<th align="right">termStat</th>
<th align="right">est</th>
<th align="right">iblock</th>
<th align="right">blocksize</th>
<th align="left">init</th>
<th align="left">idx</th>
<th align="left">symbol</th>
<th align="left">label</th>
<th align="left">unit</th>
<th align="left">trans</th>
<th align="right">value.trans</th>
<th align="right">corr</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">xgxr133</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="left">IMP</td>
<td align="left">THETA</td>
<td align="left">THETA1</td>
<td align="left">THETA(1)</td>
<td align="right">1</td>
<td align="right">NA</td>
<td align="right">0</td>
<td align="right">0.8028730</td>
<td align="right">22.32860</td>
<td align="right">0.129310</td>
<td align="right">0.6574150</td>
<td align="right">0.0642182</td>
<td align="right">0.00000e+00</td>
<td align="right">0.000000</td>
<td align="right">0</td>
<td align="right">0.8028730</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">(.1)</td>
<td align="left">1</td>
<td align="left">LTVKA</td>
<td align="left">Absorption rate</td>
<td align="left">1/h</td>
<td align="left">log</td>
<td align="right">2.2319441</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">xgxr133</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="left">IMP</td>
<td align="left">THETA</td>
<td align="left">THETA2</td>
<td align="left">THETA(2)</td>
<td align="right">2</td>
<td align="right">NA</td>
<td align="right">0</td>
<td align="right">4.3165400</td>
<td align="right">0.12931</td>
<td align="right">0.401499</td>
<td align="right">-0.8741820</td>
<td align="right">0.0586268</td>
<td align="right">0.00000e+00</td>
<td align="right">0.000000</td>
<td align="right">0</td>
<td align="right">4.3165400</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">(3)</td>
<td align="left">2</td>
<td align="left">LTVV2</td>
<td align="left">Central volume</td>
<td align="left">L</td>
<td align="left">log</td>
<td align="right">74.9289252</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">xgxr133</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="left">IMP</td>
<td align="left">THETA</td>
<td align="left">THETA3</td>
<td align="left">THETA(3)</td>
<td align="right">3</td>
<td align="right">NA</td>
<td align="right">0</td>
<td align="right">2.5524100</td>
<td align="right">2.88730</td>
<td align="right">0.429168</td>
<td align="right">-0.3923980</td>
<td align="right">0.0916355</td>
<td align="right">0.00000e+00</td>
<td align="right">0.000000</td>
<td align="right">0</td>
<td align="right">2.5524100</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">(1)</td>
<td align="left">3</td>
<td align="left">LTVCL</td>
<td align="left">Clearance</td>
<td align="left">L/h</td>
<td align="left">log</td>
<td align="right">12.8380061</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">xgxr133</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="left">IMP</td>
<td align="left">THETA</td>
<td align="left">THETA4</td>
<td align="left">THETA(4)</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="right">0</td>
<td align="right">5.1554800</td>
<td align="right">0.00000</td>
<td align="right">0.481360</td>
<td align="right">-2.6760700</td>
<td align="right">0.2547830</td>
<td align="right">0.00000e+00</td>
<td align="right">0.000000</td>
<td align="right">0</td>
<td align="right">5.1554800</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">(4)</td>
<td align="left">4</td>
<td align="left">LTVV3</td>
<td align="left">Peripheral volume</td>
<td align="left">L</td>
<td align="left">log</td>
<td align="right">173.3790087</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">xgxr133</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="left">IMP</td>
<td align="left">THETA</td>
<td align="left">THETA5</td>
<td align="left">THETA(5)</td>
<td align="right">5</td>
<td align="right">NA</td>
<td align="right">0</td>
<td align="right">2.1515900</td>
<td align="right">0.00000</td>
<td align="right">0.773260</td>
<td align="right">3.3035300</td>
<td align="right">0.0647584</td>
<td align="right">0.00000e+00</td>
<td align="right">0.000000</td>
<td align="right">0</td>
<td align="right">2.1515900</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">(-1)</td>
<td align="left">5</td>
<td align="left">LTVQ</td>
<td align="left">Intercomparmental clearance</td>
<td align="left">L/h</td>
<td align="left">log</td>
<td align="right">8.5985192</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">xgxr133</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="left">IMP</td>
<td align="left">THETA</td>
<td align="left">THETA6</td>
<td align="left">THETA(6)</td>
<td align="right">6</td>
<td align="right">NA</td>
<td align="right">0</td>
<td align="right">0.4427680</td>
<td align="right">0.00000</td>
<td align="right">0.870593</td>
<td align="right">0.0673492</td>
<td align="right">0.1405420</td>
<td align="right">0.00000e+00</td>
<td align="right">0.000000</td>
<td align="right">0</td>
<td align="right">0.4427680</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">.1</td>
<td align="left">6</td>
<td align="left">AGEEFF</td>
<td align="left">Age effect on clearance</td>
<td align="left"></td>
<td align="left">log</td>
<td align="right">1.5570111</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">xgxr133</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="left">IMP</td>
<td align="left">OMEGA</td>
<td align="left">OMEGA(1,1)</td>
<td align="left">OMEGA(1,1)</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0.0000000</td>
<td align="right">0.00000</td>
<td align="right">2.887300</td>
<td align="right">0.0000000</td>
<td align="right">0.0000000</td>
<td align="right">1.00000e+10</td>
<td align="right">0.000000</td>
<td align="right">0</td>
<td align="right">0.0000000</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">0 FIX</td>
<td align="left">1</td>
<td align="left">BSV.KA</td>
<td align="left">KA Between-subject variability</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">0.0000000</td>
<td align="right">1.0000000</td>
</tr>
<tr class="even">
<td align="left">xgxr133</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="left">IMP</td>
<td align="left">OMEGA</td>
<td align="left">OMEGA(2,1)</td>
<td align="left">OMEGA(2,1)</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0.0000000</td>
<td align="right">0.00000</td>
<td align="right">0.000000</td>
<td align="right">0.0000000</td>
<td align="right">0.0000000</td>
<td align="right">1.00000e+10</td>
<td align="right">0.000000</td>
<td align="right">0</td>
<td align="right">0.0000000</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">0.0000000</td>
<td align="right">NaN</td>
</tr>
<tr class="odd">
<td align="left">xgxr133</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="left">IMP</td>
<td align="left">OMEGA</td>
<td align="left">OMEGA(2,2)</td>
<td align="left">OMEGA(2,2)</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">0</td>
<td align="right">0.1737760</td>
<td align="right">0.00000</td>
<td align="right">0.000000</td>
<td align="right">0.6164530</td>
<td align="right">0.0312273</td>
<td align="right">3.74549e-02</td>
<td align="right">0.416864</td>
<td align="right">0</td>
<td align="right">0.1737760</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="left">0.1</td>
<td align="left">2</td>
<td align="left">BSV.V2</td>
<td align="left">V2 Between-subject variability</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">0.1737760</td>
<td align="right">1.0000000</td>
</tr>
<tr class="even">
<td align="left">xgxr133</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="left">IMP</td>
<td align="left">OMEGA</td>
<td align="left">OMEGA(3,1)</td>
<td align="left">OMEGA(3,1)</td>
<td align="right">3</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0.0000000</td>
<td align="right">0.00000</td>
<td align="right">0.000000</td>
<td align="right">0.0000000</td>
<td align="right">0.0000000</td>
<td align="right">1.00000e+10</td>
<td align="right">0.000000</td>
<td align="right">0</td>
<td align="right">0.0000000</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">0.0000000</td>
<td align="right">NaN</td>
</tr>
<tr class="odd">
<td align="left">xgxr133</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="left">IMP</td>
<td align="left">OMEGA</td>
<td align="left">OMEGA(3,2)</td>
<td align="left">OMEGA(3,2)</td>
<td align="right">3</td>
<td align="right">2</td>
<td align="right">0</td>
<td align="right">-0.0478580</td>
<td align="right">0.00000</td>
<td align="right">0.000000</td>
<td align="right">1.2065900</td>
<td align="right">0.0254373</td>
<td align="right">1.13531e-01</td>
<td align="right">-0.227702</td>
<td align="right">0</td>
<td align="right">-0.0478580</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="left">0.01</td>
<td align="left">2-3</td>
<td align="left">Cov.BSV.V2-CL</td>
<td align="left">V2 Between-subject variability</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">-0.0478580</td>
<td align="right">-0.2277024</td>
</tr>
<tr class="even">
<td align="left">xgxr133</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="left">IMP</td>
<td align="left">OMEGA</td>
<td align="left">OMEGA(3,3)</td>
<td align="left">OMEGA(3,3)</td>
<td align="right">3</td>
<td align="right">3</td>
<td align="right">0</td>
<td align="right">0.2542050</td>
<td align="right">0.00000</td>
<td align="right">0.000000</td>
<td align="right">0.7464250</td>
<td align="right">0.0433948</td>
<td align="right">4.30343e-02</td>
<td align="right">0.504188</td>
<td align="right">0</td>
<td align="right">0.2542050</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="left">0.1</td>
<td align="left">3</td>
<td align="left">BSV.CL</td>
<td align="left">CL Between-subject variability</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">0.2542050</td>
<td align="right">1.0000000</td>
</tr>
<tr class="odd">
<td align="left">xgxr133</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="left">IMP</td>
<td align="left">OMEGA</td>
<td align="left">OMEGA(4,1)</td>
<td align="left">OMEGA(4,1)</td>
<td align="right">4</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0.0000000</td>
<td align="right">0.00000</td>
<td align="right">0.000000</td>
<td align="right">0.0000000</td>
<td align="right">0.0000000</td>
<td align="right">1.00000e+10</td>
<td align="right">0.000000</td>
<td align="right">0</td>
<td align="right">0.0000000</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">0.0000000</td>
<td align="right">NaN</td>
</tr>
<tr class="even">
<td align="left">xgxr133</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="left">IMP</td>
<td align="left">OMEGA</td>
<td align="left">OMEGA(4,2)</td>
<td align="left">OMEGA(4,2)</td>
<td align="right">4</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">0.0000000</td>
<td align="right">0.00000</td>
<td align="right">0.000000</td>
<td align="right">0.0000000</td>
<td align="right">0.0000000</td>
<td align="right">1.00000e+10</td>
<td align="right">0.000000</td>
<td align="right">0</td>
<td align="right">0.0000000</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">0.0000000</td>
<td align="right">NaN</td>
</tr>
<tr class="odd">
<td align="left">xgxr133</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="left">IMP</td>
<td align="left">OMEGA</td>
<td align="left">OMEGA(4,3)</td>
<td align="left">OMEGA(4,3)</td>
<td align="right">4</td>
<td align="right">3</td>
<td align="right">1</td>
<td align="right">0.0000000</td>
<td align="right">0.00000</td>
<td align="right">0.000000</td>
<td align="right">0.0000000</td>
<td align="right">0.0000000</td>
<td align="right">1.00000e+10</td>
<td align="right">0.000000</td>
<td align="right">0</td>
<td align="right">0.0000000</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">0.0000000</td>
<td align="right">NaN</td>
</tr>
<tr class="even">
<td align="left">xgxr133</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="left">IMP</td>
<td align="left">OMEGA</td>
<td align="left">OMEGA(4,4)</td>
<td align="left">OMEGA(4,4)</td>
<td align="right">4</td>
<td align="right">4</td>
<td align="right">1</td>
<td align="right">0.0000000</td>
<td align="right">0.00000</td>
<td align="right">0.000000</td>
<td align="right">0.0000000</td>
<td align="right">0.0000000</td>
<td align="right">1.00000e+10</td>
<td align="right">0.000000</td>
<td align="right">0</td>
<td align="right">0.0000000</td>
<td align="right">4</td>
<td align="right">1</td>
<td align="left">0 FIX</td>
<td align="left">4</td>
<td align="left">BSV.V3</td>
<td align="left">V3 Between-subject variability</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">0.0000000</td>
<td align="right">1.0000000</td>
</tr>
<tr class="odd">
<td align="left">xgxr133</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="left">IMP</td>
<td align="left">OMEGA</td>
<td align="left">OMEGA(5,1)</td>
<td align="left">OMEGA(5,1)</td>
<td align="right">5</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0.0000000</td>
<td align="right">0.00000</td>
<td align="right">0.000000</td>
<td align="right">0.0000000</td>
<td align="right">0.0000000</td>
<td align="right">1.00000e+10</td>
<td align="right">0.000000</td>
<td align="right">0</td>
<td align="right">0.0000000</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">0.0000000</td>
<td align="right">NaN</td>
</tr>
<tr class="even">
<td align="left">xgxr133</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="left">IMP</td>
<td align="left">OMEGA</td>
<td align="left">OMEGA(5,2)</td>
<td align="left">OMEGA(5,2)</td>
<td align="right">5</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">0.0000000</td>
<td align="right">0.00000</td>
<td align="right">0.000000</td>
<td align="right">0.0000000</td>
<td align="right">0.0000000</td>
<td align="right">1.00000e+10</td>
<td align="right">0.000000</td>
<td align="right">0</td>
<td align="right">0.0000000</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">0.0000000</td>
<td align="right">NaN</td>
</tr>
<tr class="odd">
<td align="left">xgxr133</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="left">IMP</td>
<td align="left">OMEGA</td>
<td align="left">OMEGA(5,3)</td>
<td align="left">OMEGA(5,3)</td>
<td align="right">5</td>
<td align="right">3</td>
<td align="right">1</td>
<td align="right">0.0000000</td>
<td align="right">0.00000</td>
<td align="right">0.000000</td>
<td align="right">0.0000000</td>
<td align="right">0.0000000</td>
<td align="right">1.00000e+10</td>
<td align="right">0.000000</td>
<td align="right">0</td>
<td align="right">0.0000000</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">0.0000000</td>
<td align="right">NaN</td>
</tr>
<tr class="even">
<td align="left">xgxr133</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="left">IMP</td>
<td align="left">OMEGA</td>
<td align="left">OMEGA(5,4)</td>
<td align="left">OMEGA(5,4)</td>
<td align="right">5</td>
<td align="right">4</td>
<td align="right">1</td>
<td align="right">0.0000000</td>
<td align="right">0.00000</td>
<td align="right">0.000000</td>
<td align="right">0.0000000</td>
<td align="right">0.0000000</td>
<td align="right">1.00000e+10</td>
<td align="right">0.000000</td>
<td align="right">0</td>
<td align="right">0.0000000</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">0.0000000</td>
<td align="right">NaN</td>
</tr>
<tr class="odd">
<td align="left">xgxr133</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="left">IMP</td>
<td align="left">OMEGA</td>
<td align="left">OMEGA(5,5)</td>
<td align="left">OMEGA(5,5)</td>
<td align="right">5</td>
<td align="right">5</td>
<td align="right">1</td>
<td align="right">0.0000000</td>
<td align="right">0.00000</td>
<td align="right">0.000000</td>
<td align="right">0.0000000</td>
<td align="right">0.0000000</td>
<td align="right">1.00000e+10</td>
<td align="right">0.000000</td>
<td align="right">0</td>
<td align="right">0.0000000</td>
<td align="right">5</td>
<td align="right">1</td>
<td align="left">0 FIX</td>
<td align="left">5</td>
<td align="left">BSV.Q</td>
<td align="left">Q Between-subject variability</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">0.0000000</td>
<td align="right">1.0000000</td>
</tr>
<tr class="even">
<td align="left">xgxr133</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="left">IMP</td>
<td align="left">SIGMA</td>
<td align="left">SIGMA(1,1)</td>
<td align="left">SIGMA(1,1)</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0.0812994</td>
<td align="right">0.00000</td>
<td align="right">1.107170</td>
<td align="right">16.4170000</td>
<td align="right">0.0054321</td>
<td align="right">9.52560e-03</td>
<td align="right">0.285130</td>
<td align="right">0</td>
<td align="right">0.0812994</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">0.1</td>
<td align="left">1</td>
<td align="left">SigP</td>
<td align="left">Prop err</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">0.0812994</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">xgxr133</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="left">IMP</td>
<td align="left">SIGMA</td>
<td align="left">SIGMA(2,1)</td>
<td align="left">SIGMA(2,1)</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0.0000000</td>
<td align="right">0.00000</td>
<td align="right">1.402650</td>
<td align="right">0.0000000</td>
<td align="right">0.0000000</td>
<td align="right">1.00000e+10</td>
<td align="right">0.000000</td>
<td align="right">0</td>
<td align="right">0.0000000</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">0.0000000</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">xgxr133</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="left">IMP</td>
<td align="left">SIGMA</td>
<td align="left">SIGMA(2,2)</td>
<td align="left">SIGMA(2,2)</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">0.0000000</td>
<td align="right">0.00000</td>
<td align="right">1.517690</td>
<td align="right">0.0000000</td>
<td align="right">0.0000000</td>
<td align="right">1.00000e+10</td>
<td align="right">0.000000</td>
<td align="right">0</td>
<td align="right">0.0000000</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="left">0 FIX</td>
<td align="left">2</td>
<td align="left">SigA</td>
<td align="left">Add err</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">0.0000000</td>
<td align="right">NA</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="editing-information-in-the-parameter-table">Editing information in the parameter table<a class="anchor" aria-label="anchor" href="#editing-information-in-the-parameter-table"></a>
</h3>
<p>The problem with the otherwise nicely looking table generated above
is that we spotted a typo in one label. A “t” is missing in
“Intercompartmental”. How are we going to fix that? The model was
finalized so we don’t want to edit the control stream. For this specific
problem we could fix it with a simple text replacement. But such
patchwork can become messy with a large model. While the method of
providing all the details in control stream may look like a great
solution at first, it has problems</p>
<p>A practical issue is the tedious process keeping all the candidate
models up to date as the information for the parameter tables improves.
The parameter table work is often part of a model reporting step
following model development. Since the control streams are created in
the model development step, the parameter table fine tuning is difficult
to integrate. Briefly, we need a way to update the parameter tables
after finalizing the control stream.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tab.offline</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"derived/partab_offline.csv"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/mergeCheck.html">mergeCheck</a></span><span class="op">(</span><span class="va">partab2</span><span class="op">[</span><span class="va">FIX</span><span class="op">==</span><span class="fl">0</span><span class="op">]</span>,<span class="va">tab.offline</span>,by<span class="op">=</span><span class="st">"symbol"</span>,fun.commoncols<span class="op">=</span><span class="st">"drop.x"</span>,all.x<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span><span class="co">#&gt; "fun.commoncols" argument deprecated. Use "common.cols" instead.</span></span>
<span><span class="co">#&gt; Column(s) added: label, unit</span></span>
<span><span class="co">#&gt;       model TABLENO NMREP table.step par.type  parameter   par.name     i     j</span></span>
<span><span class="co">#&gt;      &lt;char&gt;   &lt;num&gt; &lt;int&gt;     &lt;char&gt;   &lt;char&gt;     &lt;char&gt;     &lt;fctr&gt; &lt;int&gt; &lt;int&gt;</span></span>
<span><span class="co">#&gt;  1: xgxr133       2     1        IMP    THETA     THETA1   THETA(1)     1    NA</span></span>
<span><span class="co">#&gt;  2: xgxr133       2     1        IMP    THETA     THETA2   THETA(2)     2    NA</span></span>
<span><span class="co">#&gt;  3: xgxr133       2     1        IMP    THETA     THETA3   THETA(3)     3    NA</span></span>
<span><span class="co">#&gt;  4: xgxr133       2     1        IMP    THETA     THETA4   THETA(4)     4    NA</span></span>
<span><span class="co">#&gt;  5: xgxr133       2     1        IMP    THETA     THETA5   THETA(5)     5    NA</span></span>
<span><span class="co">#&gt;  6: xgxr133       2     1        IMP    THETA     THETA6   THETA(6)     6    NA</span></span>
<span><span class="co">#&gt;  7: xgxr133       2     1        IMP    OMEGA OMEGA(2,2) OMEGA(2,2)     2     2</span></span>
<span><span class="co">#&gt;  8: xgxr133       2     1        IMP    OMEGA OMEGA(3,2) OMEGA(3,2)     3     2</span></span>
<span><span class="co">#&gt;  9: xgxr133       2     1        IMP    OMEGA OMEGA(3,3) OMEGA(3,3)     3     3</span></span>
<span><span class="co">#&gt; 10: xgxr133       2     1        IMP    SIGMA SIGMA(1,1) SIGMA(1,1)     1     1</span></span>
<span><span class="co">#&gt;       FIX      value     cond   eigCor    partLik         se seStdDevCor</span></span>
<span><span class="co">#&gt;     &lt;num&gt;      &lt;num&gt;    &lt;num&gt;    &lt;num&gt;      &lt;num&gt;      &lt;num&gt;       &lt;num&gt;</span></span>
<span><span class="co">#&gt;  1:     0  0.8028730 22.32860 0.129310  0.6574150 0.06421820  0.00000000</span></span>
<span><span class="co">#&gt;  2:     0  4.3165400  0.12931 0.401499 -0.8741820 0.05862680  0.00000000</span></span>
<span><span class="co">#&gt;  3:     0  2.5524100  2.88730 0.429168 -0.3923980 0.09163550  0.00000000</span></span>
<span><span class="co">#&gt;  4:     0  5.1554800  0.00000 0.481360 -2.6760700 0.25478300  0.00000000</span></span>
<span><span class="co">#&gt;  5:     0  2.1515900  0.00000 0.773260  3.3035300 0.06475840  0.00000000</span></span>
<span><span class="co">#&gt;  6:     0  0.4427680  0.00000 0.870593  0.0673492 0.14054200  0.00000000</span></span>
<span><span class="co">#&gt;  7:     0  0.1737760  0.00000 0.000000  0.6164530 0.03122730  0.03745490</span></span>
<span><span class="co">#&gt;  8:     0 -0.0478580  0.00000 0.000000  1.2065900 0.02543730  0.11353100</span></span>
<span><span class="co">#&gt;  9:     0  0.2542050  0.00000 0.000000  0.7464250 0.04339480  0.04303430</span></span>
<span><span class="co">#&gt; 10:     0  0.0812994  0.00000 1.107170 16.4170000 0.00543208  0.00952561</span></span>
<span><span class="co">#&gt;     stdDevCor termStat        est iblock blocksize   init    idx        symbol</span></span>
<span><span class="co">#&gt;         &lt;num&gt;    &lt;num&gt;      &lt;num&gt;  &lt;int&gt;     &lt;num&gt; &lt;char&gt; &lt;char&gt;        &lt;char&gt;</span></span>
<span><span class="co">#&gt;  1:  0.000000        0  0.8028730     NA        NA   (.1)      1         LTVKA</span></span>
<span><span class="co">#&gt;  2:  0.000000        0  4.3165400     NA        NA    (3)      2         LTVV2</span></span>
<span><span class="co">#&gt;  3:  0.000000        0  2.5524100     NA        NA    (1)      3         LTVCL</span></span>
<span><span class="co">#&gt;  4:  0.000000        0  5.1554800     NA        NA    (4)      4         LTVV3</span></span>
<span><span class="co">#&gt;  5:  0.000000        0  2.1515900     NA        NA   (-1)      5          LTVQ</span></span>
<span><span class="co">#&gt;  6:  0.000000        0  0.4427680     NA        NA     .1      6        AGEEFF</span></span>
<span><span class="co">#&gt;  7:  0.416864        0  0.1737760      2         1    0.1      2        BSV.V2</span></span>
<span><span class="co">#&gt;  8: -0.227702        0 -0.0478580      2         2   0.01    2-3 Cov.BSV.V2-CL</span></span>
<span><span class="co">#&gt;  9:  0.504188        0  0.2542050      2         2    0.1      3        BSV.CL</span></span>
<span><span class="co">#&gt; 10:  0.285130        0  0.0812994      1         1    0.1      1          SigP</span></span>
<span><span class="co">#&gt;      trans value.trans                                        label   unit</span></span>
<span><span class="co">#&gt;     &lt;char&gt;       &lt;num&gt;                                       &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;  1:    log   2.2319441                              Absorption rate    1/h</span></span>
<span><span class="co">#&gt;  2:    log  74.9289252                               Central volume      L</span></span>
<span><span class="co">#&gt;  3:    log  12.8380061                                    Clearance    L/h</span></span>
<span><span class="co">#&gt;  4:    log 173.3790087                            Peripheral volume      L</span></span>
<span><span class="co">#&gt;  5:    log   8.5985192                 Intercompartmental clearance    L/h</span></span>
<span><span class="co">#&gt;  6:    log   1.5570111                      Age effect on clearance       </span></span>
<span><span class="co">#&gt;  7:   &lt;NA&gt;   0.1737760 Between-subject variability - Central volume       </span></span>
<span><span class="co">#&gt;  8:   &lt;NA&gt;  -0.0478580                                         &lt;NA&gt;   &lt;NA&gt;</span></span>
<span><span class="co">#&gt;  9:   &lt;NA&gt;   0.2542050      Between-subject variability - Clearance       </span></span>
<span><span class="co">#&gt; 10:   &lt;NA&gt;   0.0812994                                         &lt;NA&gt;   &lt;NA&gt;</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="identifying-the-parameter-names-from-code">Identifying the parameter names from code<a class="anchor" aria-label="anchor" href="#identifying-the-parameter-names-from-code"></a>
</h3>
<p>In the last example, all we used from the control stream was the
<code>symbol</code>, i.e. an abbreviated parameter name. The rest was
merged in from a table maintained in a csv file.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">labs.auto</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/NMrelate.html">NMrelate</a></span><span class="op">(</span><span class="va">file.mod</span><span class="op">)</span></span>
<span><span class="va">labs.auto</span><span class="op">[</span>,<span class="va">symbol</span><span class="op">:=</span><span class="va">label</span><span class="op">]</span></span>
<span><span class="va">labs.auto</span><span class="op">[</span><span class="va">par.type</span><span class="op">==</span><span class="st">"OMEGA"</span>,<span class="va">symbol</span><span class="op">:=</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"BSV."</span>,<span class="va">symbol</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">labs.auto</span><span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<colgroup>
<col width="7%">
<col width="10%">
<col width="8%">
<col width="2%">
<col width="2%">
<col width="8%">
<col width="8%">
<col width="6%">
<col width="13%">
<col width="18%">
<col width="13%">
</colgroup>
<thead><tr class="header">
<th align="left">model</th>
<th align="left">par.name</th>
<th align="left">par.type</th>
<th align="right">i</th>
<th align="right">j</th>
<th align="right">nrep.LHS</th>
<th align="right">nrep.par</th>
<th align="left">LHS</th>
<th align="left">label</th>
<th align="left">code</th>
<th align="left">symbol</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">xgxr133</td>
<td align="left">THETA(1)</td>
<td align="left">THETA</td>
<td align="right">1</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">LTVKA</td>
<td align="left">LTVKA</td>
<td align="left">LTVKA=THETA(1)</td>
<td align="left">LTVKA</td>
</tr>
<tr class="even">
<td align="left">xgxr133</td>
<td align="left">THETA(2)</td>
<td align="left">THETA</td>
<td align="right">2</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">LTVV2</td>
<td align="left">LTVV2</td>
<td align="left">LTVV2=THETA(2)</td>
<td align="left">LTVV2</td>
</tr>
<tr class="odd">
<td align="left">xgxr133</td>
<td align="left">THETA(3)</td>
<td align="left">THETA</td>
<td align="right">3</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">LTVCL</td>
<td align="left">LTVCL</td>
<td align="left">LTVCL=THETA(3)</td>
<td align="left">LTVCL</td>
</tr>
<tr class="even">
<td align="left">xgxr133</td>
<td align="left">THETA(4)</td>
<td align="left">THETA</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">LTVV3</td>
<td align="left">LTVV3</td>
<td align="left">LTVV3=THETA(4)</td>
<td align="left">LTVV3</td>
</tr>
<tr class="odd">
<td align="left">xgxr133</td>
<td align="left">THETA(5)</td>
<td align="left">THETA</td>
<td align="right">5</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">LTVQ</td>
<td align="left">LTVQ</td>
<td align="left">LTVQ=THETA(5)</td>
<td align="left">LTVQ</td>
</tr>
<tr class="even">
<td align="left">xgxr133</td>
<td align="left">THETA(6)</td>
<td align="left">THETA</td>
<td align="right">6</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">AGEEFF</td>
<td align="left">AGEEFF</td>
<td align="left">AGEEFF=THETA(6)</td>
<td align="left">AGEEFF</td>
</tr>
<tr class="odd">
<td align="left">xgxr133</td>
<td align="left">OMEGA(1,1)</td>
<td align="left">OMEGA</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">KA</td>
<td align="left">KA</td>
<td align="left">KA=EXP(MU_1+ETA(1))</td>
<td align="left">BSV.KA</td>
</tr>
<tr class="even">
<td align="left">xgxr133</td>
<td align="left">OMEGA(2,2)</td>
<td align="left">OMEGA</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">V2</td>
<td align="left">V2</td>
<td align="left">V2=EXP(MU_2+ETA(2))</td>
<td align="left">BSV.V2</td>
</tr>
<tr class="odd">
<td align="left">xgxr133</td>
<td align="left">OMEGA(3,3)</td>
<td align="left">OMEGA</td>
<td align="right">3</td>
<td align="right">3</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">CL</td>
<td align="left">CL</td>
<td align="left">CL=EXP(MU_3+ETA(3))</td>
<td align="left">BSV.CL</td>
</tr>
<tr class="even">
<td align="left">xgxr133</td>
<td align="left">OMEGA(4,4)</td>
<td align="left">OMEGA</td>
<td align="right">4</td>
<td align="right">4</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">V3</td>
<td align="left">V3</td>
<td align="left">V3=EXP(MU_4+ETA(4))</td>
<td align="left">BSV.V3</td>
</tr>
<tr class="odd">
<td align="left">xgxr133</td>
<td align="left">OMEGA(5,5)</td>
<td align="left">OMEGA</td>
<td align="right">5</td>
<td align="right">5</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">Q</td>
<td align="left">Q</td>
<td align="left">Q=EXP(MU_5+ETA(5))</td>
<td align="left">BSV.Q</td>
</tr>
<tr class="even">
<td align="left">xgxr133</td>
<td align="left">SIGMA(1,1)</td>
<td align="left">SIGMA</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="left">SIGP</td>
<td align="left">SIGP</td>
<td align="left">SIGP=SIGMA(1,1)</td>
<td align="left">SIGP</td>
</tr>
<tr class="odd">
<td align="left">xgxr133</td>
<td align="left">SIGMA(1,1)</td>
<td align="left">SIGMA</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="left">Y</td>
<td align="left">Y - SIGMA(1,1)</td>
<td align="left">Y=F+F*ERR(1)+ERR(2)</td>
<td align="left">Y - SIGMA(1,1)</td>
</tr>
<tr class="even">
<td align="left">xgxr133</td>
<td align="left">SIGMA(2,2)</td>
<td align="left">SIGMA</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="left">SIGA</td>
<td align="left">SIGA</td>
<td align="left">SIGA=SIGMA(2,2)</td>
<td align="left">SIGA</td>
</tr>
<tr class="odd">
<td align="left">xgxr133</td>
<td align="left">SIGMA(2,2)</td>
<td align="left">SIGMA</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="left">Y</td>
<td align="left">Y - SIGMA(2,2)</td>
<td align="left">Y=F+F*ERR(1)+ERR(2)</td>
<td align="left">Y - SIGMA(2,2)</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="../reference/mergeCheck.html">mergeCheck</a></span><span class="op">(</span><span class="va">labs.auto</span><span class="op">[</span>,<span class="fu">.</span><span class="op">(</span><span class="va">par.name</span>,<span class="va">symbol</span><span class="op">)</span><span class="op">]</span>,<span class="va">tab.offline</span>,by<span class="op">=</span><span class="st">"symbol"</span>,all.x<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span><span class="co">#&gt; Column(s) added: label, unit</span></span>
<span><span class="co">#&gt;       par.name         symbol</span></span>
<span><span class="co">#&gt;         &lt;char&gt;         &lt;char&gt;</span></span>
<span><span class="co">#&gt;  1:   THETA(1)          LTVKA</span></span>
<span><span class="co">#&gt;  2:   THETA(2)          LTVV2</span></span>
<span><span class="co">#&gt;  3:   THETA(3)          LTVCL</span></span>
<span><span class="co">#&gt;  4:   THETA(4)          LTVV3</span></span>
<span><span class="co">#&gt;  5:   THETA(5)           LTVQ</span></span>
<span><span class="co">#&gt;  6:   THETA(6)         AGEEFF</span></span>
<span><span class="co">#&gt;  7: OMEGA(1,1)         BSV.KA</span></span>
<span><span class="co">#&gt;  8: OMEGA(2,2)         BSV.V2</span></span>
<span><span class="co">#&gt;  9: OMEGA(3,3)         BSV.CL</span></span>
<span><span class="co">#&gt; 10: OMEGA(4,4)         BSV.V3</span></span>
<span><span class="co">#&gt; 11: OMEGA(5,5)          BSV.Q</span></span>
<span><span class="co">#&gt; 12: SIGMA(1,1)           SIGP</span></span>
<span><span class="co">#&gt; 13: SIGMA(1,1) Y - SIGMA(1,1)</span></span>
<span><span class="co">#&gt; 14: SIGMA(2,2)           SIGA</span></span>
<span><span class="co">#&gt; 15: SIGMA(2,2) Y - SIGMA(2,2)</span></span>
<span><span class="co">#&gt;                                                          label   unit</span></span>
<span><span class="co">#&gt;                                                         &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;  1:                                            Absorption rate    1/h</span></span>
<span><span class="co">#&gt;  2:                                             Central volume      L</span></span>
<span><span class="co">#&gt;  3:                                                  Clearance    L/h</span></span>
<span><span class="co">#&gt;  4:                                          Peripheral volume      L</span></span>
<span><span class="co">#&gt;  5:                               Intercompartmental clearance    L/h</span></span>
<span><span class="co">#&gt;  6:                                    Age effect on clearance       </span></span>
<span><span class="co">#&gt;  7:              Between-subject variability - Absorption rate       </span></span>
<span><span class="co">#&gt;  8:               Between-subject variability - Central volume       </span></span>
<span><span class="co">#&gt;  9:                    Between-subject variability - Clearance       </span></span>
<span><span class="co">#&gt; 10:            Between-subject variability - Peripheral volume       </span></span>
<span><span class="co">#&gt; 11: Between-subject variability - Intercompartmental clearance       </span></span>
<span><span class="co">#&gt; 12:                                Proportional residual error       </span></span>
<span><span class="co">#&gt; 13:                                                       &lt;NA&gt;   &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 14:                                    Additive residual error  ng/mL</span></span>
<span><span class="co">#&gt; 15:                                                       &lt;NA&gt;   &lt;NA&gt;</span></span></code></pre></div>
<!-- off-diags missing. Merge info from ext? -->
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">file2.mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"examples/nonmem/xgxr133.mod"</span>,package<span class="op">=</span><span class="st">"NMdata"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">pars.ext</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/NMreadExt.html">NMreadExt</a></span><span class="op">(</span><span class="va">file2.mod</span><span class="op">)</span></span>
<span></span>
<span><span class="va">labs.auto</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/NMrelate.html">NMrelate</a></span><span class="op">(</span><span class="va">file2.mod</span><span class="op">)</span></span>
<span><span class="va">labs.auto</span><span class="op">[</span>,<span class="va">symbol</span><span class="op">:=</span><span class="va">label</span><span class="op">]</span></span>
<span><span class="va">labs.j</span> <span class="op">&lt;-</span> <span class="va">labs.auto</span><span class="op">[</span><span class="va">par.type</span><span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"OMEGA"</span>,<span class="st">"SIGMA"</span><span class="op">)</span>,<span class="fu">.</span><span class="op">(</span>par.type.j<span class="op">=</span><span class="va">par.type</span>,<span class="va">j</span>,symbol.j<span class="op">=</span><span class="va">symbol</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">labs.ij</span> <span class="op">&lt;-</span> <span class="va">labs.j</span><span class="op">[</span>,<span class="va">labs.auto</span><span class="op">[</span><span class="va">par.type</span><span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"OMEGA"</span>,<span class="st">"SIGMA"</span><span class="op">)</span>,<span class="fu">.</span><span class="op">(</span><span class="va">i</span>,par.type.i<span class="op">=</span><span class="va">par.type</span>,symbol.i<span class="op">=</span><span class="va">symbol</span><span class="op">)</span><span class="op">]</span>,by<span class="op">=</span><span class="va">labs.j</span><span class="op">]</span></span>
<span><span class="va">labs.ij</span> <span class="op">&lt;-</span> <span class="va">labs.ij</span><span class="op">[</span><span class="va">par.type.i</span><span class="op">==</span><span class="va">par.type.j</span> <span class="op">&amp;</span> <span class="op">(</span><span class="va">i</span><span class="op">!=</span><span class="va">j</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">labs.ij</span><span class="op">[</span><span class="va">par.type.i</span><span class="op">==</span><span class="va">par.type.j</span>,<span class="va">par.type</span><span class="op">:=</span><span class="va">par.type.i</span><span class="op">]</span></span>
<span><span class="va">labs.ij</span><span class="op">[</span>,<span class="va">symbol</span><span class="op">:=</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"Cov.%s-%s"</span>,<span class="va">symbol.i</span>,<span class="va">symbol.j</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">labs.ij</span><span class="op">[</span>,<span class="va">par.name</span><span class="op">:=</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"%s(%d,%d)"</span>,<span class="va">par.type.i</span>,<span class="va">i</span>,<span class="va">j</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">labs.ij</span><span class="op">[</span>,<span class="va">label</span><span class="op">:=</span><span class="va">symbol</span><span class="op">]</span></span>
<span><span class="va">cols.drop</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cc.html">cc</a></span><span class="op">(</span><span class="va">par.type.j</span>, <span class="va">symbol.j</span>, <span class="va">par.type.i</span>, <span class="va">symbol.i</span><span class="op">)</span></span>
<span><span class="va">labs.ij</span><span class="op">[</span>,<span class="op">(</span><span class="va">cols.drop</span><span class="op">)</span><span class="op">:=</span><span class="cn">NULL</span><span class="op">]</span></span>
<span></span>
<span><span class="va">labs.auto</span><span class="op">[</span><span class="va">par.type</span><span class="op">==</span><span class="st">"OMEGA"</span><span class="op">&amp;</span><span class="va">i</span><span class="op">==</span><span class="va">j</span>,<span class="va">symbol</span><span class="op">:=</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"BSV."</span>,<span class="va">symbol</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">labs.auto2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">labs.auto</span>,<span class="va">labs.ij</span>,fill<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">### overwrite auto-gen labels with hard-coded ones</span></span>
<span><span class="va">tab.labs.diag</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mergeCheck.html">mergeCheck</a></span><span class="op">(</span></span>
<span>    <span class="co">## labs.auto[par.type=="THETA",!("label")]</span></span>
<span>    <span class="va">labs.auto2</span><span class="op">[</span>,<span class="op">!</span><span class="op">(</span><span class="st">"label"</span><span class="op">)</span><span class="op">]</span></span>
<span>    <span class="co">## labs.auto[par.type=="THETA"|(i==j),!("label")]</span></span>
<span>   ,</span>
<span>    <span class="va">tab.offline</span></span>
<span>   ,by<span class="op">=</span><span class="st">"symbol"</span></span>
<span>   ,all.x<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span><span class="co">#&gt; Column(s) added: label, unit</span></span>
<span></span>
<span><span class="va">tab.labs.offdiag</span> <span class="op">&lt;-</span> <span class="va">labs.auto2</span><span class="op">[</span><span class="va">par.type</span><span class="op">!=</span><span class="st">"THETA"</span><span class="op">&amp;</span><span class="va">i</span><span class="op">!=</span><span class="va">j</span><span class="op">]</span></span>
<span></span>
<span><span class="va">tab.all.labs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span></span>
<span>    <span class="va">tab.labs.diag</span></span>
<span>                      <span class="co">## ,tab.labs.offdiag</span></span>
<span>                     ,fill<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## mege onto estimates (ext)</span></span>
<span><span class="va">pars.aug</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mergeCheck.html">mergeCheck</a></span><span class="op">(</span><span class="va">pars.ext</span><span class="op">[</span><span class="va">FIX</span><span class="op">==</span><span class="fl">0</span><span class="op">]</span>,</span>
<span>                       <span class="va">tab.all.labs</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"SIGMA"</span>,<span class="va">symbol</span><span class="op">)</span><span class="op">]</span></span>
<span>                      ,</span>
<span>                       by<span class="op">=</span><span class="st">"par.name"</span>,all.x<span class="op">=</span><span class="cn">TRUE</span>,common.cols<span class="op">=</span><span class="st">"drop.y"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Column(s) added: nrep.LHS, nrep.par, LHS, code, symbol, label, unit</span></span>
<span></span>
<span><span class="co">### back transformations</span></span>
<span><span class="va">pars.aug</span><span class="op">[</span>,<span class="va">value.trans</span><span class="op">:=</span><span class="va">value</span><span class="op">]</span></span>
<span><span class="va">pars.aug</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"LTV"</span>,<span class="va">symbol</span><span class="op">)</span>,<span class="va">value.trans</span><span class="op">:=</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">value</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">## pars.aug</span></span>
<span></span>
<span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">pars.aug</span><span class="op">[</span>,<span class="fu">.</span><span class="op">(</span><span class="va">par.name</span>,<span class="va">symbol</span>,<span class="va">FIX</span>,<span class="va">label</span>,<span class="va">unit</span>,Estimate<span class="op">=</span><span class="va">value.trans</span>,RSE<span class="op">=</span><span class="va">se</span><span class="op">/</span><span class="va">value</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="11%">
<col width="10%">
<col width="4%">
<col width="45%">
<col width="5%">
<col width="12%">
<col width="11%">
</colgroup>
<thead><tr class="header">
<th align="left">par.name</th>
<th align="left">symbol</th>
<th align="right">FIX</th>
<th align="left">label</th>
<th align="left">unit</th>
<th align="right">Estimate</th>
<th align="right">RSE</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">THETA(1)</td>
<td align="left">LTVKA</td>
<td align="right">0</td>
<td align="left">Absorption rate</td>
<td align="left">1/h</td>
<td align="right">2.2319441</td>
<td align="right">0.0799855</td>
</tr>
<tr class="even">
<td align="left">THETA(2)</td>
<td align="left">LTVV2</td>
<td align="right">0</td>
<td align="left">Central volume</td>
<td align="left">L</td>
<td align="right">74.9289252</td>
<td align="right">0.0135819</td>
</tr>
<tr class="odd">
<td align="left">THETA(3)</td>
<td align="left">LTVCL</td>
<td align="right">0</td>
<td align="left">Clearance</td>
<td align="left">L/h</td>
<td align="right">12.8380061</td>
<td align="right">0.0359016</td>
</tr>
<tr class="even">
<td align="left">THETA(4)</td>
<td align="left">LTVV3</td>
<td align="right">0</td>
<td align="left">Peripheral volume</td>
<td align="left">L</td>
<td align="right">173.3790087</td>
<td align="right">0.0494198</td>
</tr>
<tr class="odd">
<td align="left">THETA(5)</td>
<td align="left">LTVQ</td>
<td align="right">0</td>
<td align="left">Intercompartmental clearance</td>
<td align="left">L/h</td>
<td align="right">8.5985192</td>
<td align="right">0.0300979</td>
</tr>
<tr class="even">
<td align="left">THETA(6)</td>
<td align="left">AGEEFF</td>
<td align="right">0</td>
<td align="left">Age effect on clearance</td>
<td align="left"></td>
<td align="right">0.4427680</td>
<td align="right">0.3174168</td>
</tr>
<tr class="odd">
<td align="left">OMEGA(2,2)</td>
<td align="left">BSV.V2</td>
<td align="right">0</td>
<td align="left">Between-subject variability - Central volume</td>
<td align="left"></td>
<td align="right">0.1737760</td>
<td align="right">0.1796986</td>
</tr>
<tr class="even">
<td align="left">OMEGA(3,2)</td>
<td align="left">Cov.CL-V2</td>
<td align="right">0</td>
<td align="left">Covariance - Clearance and central volume</td>
<td align="left"></td>
<td align="right">-0.0478580</td>
<td align="right">-0.5315162</td>
</tr>
<tr class="odd">
<td align="left">OMEGA(3,3)</td>
<td align="left">BSV.CL</td>
<td align="right">0</td>
<td align="left">Between-subject variability - Clearance</td>
<td align="left"></td>
<td align="right">0.2542050</td>
<td align="right">0.1707079</td>
</tr>
<tr class="even">
<td align="left">SIGMA(1,1)</td>
<td align="left">SIGP</td>
<td align="right">0</td>
<td align="left">Proportional residual error</td>
<td align="left"></td>
<td align="right">0.0812994</td>
<td align="right">0.0668157</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="more-models">More models<a class="anchor" aria-label="anchor" href="#more-models"></a>
</h2>
<p>Any of the code above can be run on multiple models at once.
<code>NMdata</code> functions generally return tables including a
<code>model</code> column for this purpose. Let’s get a quick overview
of a few models.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">files</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">"examples/nonmem"</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"xgxr132.mod"</span>,<span class="st">"xgxr133.mod"</span><span class="op">)</span><span class="op">)</span>,package<span class="op">=</span><span class="st">"NMdata"</span><span class="op">)</span></span>
<span><span class="va">labs.auto</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/NMrelate.html">NMrelate</a></span><span class="op">(</span><span class="va">files</span><span class="op">)</span></span>
<span><span class="va">labs.auto</span><span class="op">[</span>,<span class="va">symbol</span><span class="op">:=</span><span class="va">label</span><span class="op">]</span></span>
<span><span class="va">labs.auto</span><span class="op">[</span><span class="va">par.type</span><span class="op">==</span><span class="st">"OMEGA"</span>,<span class="va">symbol</span><span class="op">:=</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"BSV."</span>,<span class="va">symbol</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">labs.auto</span> <span class="op">&lt;-</span> <span class="va">labs.auto</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"SIGMA"</span>,<span class="va">symbol</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="../reference/NMreadExt.html">NMreadExt</a></span><span class="op">(</span><span class="va">files</span>,return<span class="op">=</span><span class="st">"pars"</span><span class="op">)</span><span class="op">[</span><span class="va">FIX</span><span class="op">==</span><span class="fl">0</span><span class="op">]</span><span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="../reference/mergeCheck.html">mergeCheck</a></span><span class="op">(</span><span class="va">labs.auto</span><span class="op">[</span>,<span class="fu">.</span><span class="op">(</span><span class="va">model</span>,<span class="va">par.name</span>,<span class="va">symbol</span><span class="op">)</span><span class="op">]</span>,by<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"model"</span>,<span class="st">"par.name"</span><span class="op">)</span>,all.x<span class="op">=</span><span class="cn">T</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="../reference/mergeCheck.html">mergeCheck</a></span><span class="op">(</span><span class="va">tab.offline</span>,by<span class="op">=</span><span class="st">"symbol"</span>,all.x<span class="op">=</span><span class="cn">T</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/dcast.data.table.html" class="external-link">dcast</a></span><span class="op">(</span><span class="va">par.name</span><span class="op">+</span><span class="va">symbol</span><span class="op">+</span><span class="va">label</span><span class="op">+</span><span class="va">unit</span><span class="op">~</span><span class="va">model</span>,value.var<span class="op">=</span><span class="st">"value"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Column(s) added: symbol</span></span>
<span><span class="co">#&gt; Column(s) added: label, unit</span></span>
<span><span class="co">#&gt; Key: &lt;par.name, symbol, label, unit&gt;</span></span>
<span><span class="co">#&gt;       par.name symbol                                        label   unit</span></span>
<span><span class="co">#&gt;         &lt;char&gt; &lt;char&gt;                                       &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">#&gt;  1: OMEGA(2,2) BSV.V2 Between-subject variability - Central volume       </span></span>
<span><span class="co">#&gt;  2: OMEGA(3,2)   &lt;NA&gt;                                         &lt;NA&gt;   &lt;NA&gt;</span></span>
<span><span class="co">#&gt;  3: OMEGA(3,3) BSV.CL      Between-subject variability - Clearance       </span></span>
<span><span class="co">#&gt;  4: SIGMA(1,1)   SIGP                  Proportional residual error       </span></span>
<span><span class="co">#&gt;  5:   THETA(1)  LTVKA                              Absorption rate    1/h</span></span>
<span><span class="co">#&gt;  6:   THETA(2)  LTVV2                               Central volume      L</span></span>
<span><span class="co">#&gt;  7:   THETA(3)  LTVCL                                    Clearance    L/h</span></span>
<span><span class="co">#&gt;  8:   THETA(4)  LTVV3                            Peripheral volume      L</span></span>
<span><span class="co">#&gt;  9:   THETA(5)   LTVQ                 Intercompartmental clearance    L/h</span></span>
<span><span class="co">#&gt; 10:   THETA(6) AGEEFF                      Age effect on clearance       </span></span>
<span><span class="co">#&gt;       xgxr132    xgxr133</span></span>
<span><span class="co">#&gt;         &lt;num&gt;      &lt;num&gt;</span></span>
<span><span class="co">#&gt;  1: 0.1754540  0.1737760</span></span>
<span><span class="co">#&gt;  2:        NA -0.0478580</span></span>
<span><span class="co">#&gt;  3: 0.3092220  0.2542050</span></span>
<span><span class="co">#&gt;  4: 0.0809318  0.0812994</span></span>
<span><span class="co">#&gt;  5: 0.8134230  0.8028730</span></span>
<span><span class="co">#&gt;  6: 4.3236000  4.3165400</span></span>
<span><span class="co">#&gt;  7: 2.4710300  2.5524100</span></span>
<span><span class="co">#&gt;  8: 5.4265500  5.1554800</span></span>
<span><span class="co">#&gt;  9: 2.2274200  2.1515900</span></span>
<span><span class="co">#&gt; 10: 0.4197470  0.4427680</span></span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Philip Delff.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer>
</div>




  <script data-goatcounter="https://nmdata.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
</body>
</html>
