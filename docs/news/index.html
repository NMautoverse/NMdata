<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Changelog • NMdata</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Changelog" />
<meta property="og:image" content="https://philipdelff.github.io/NMdata/reference/figures/NMdata_logo_v01.png" />
<meta property="og:image:alt" content="Efficient data preparation, consistency-checking and post-processing in PK/PD modeling" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-news">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">NMdata</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.7.2.903</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/NMscanData.html">Automated and general reader of Nonmem data</a>
    </li>
    <li>
      <a href="../articles/DataCreate.html">Data creation tools</a>
    </li>
    <li>
      <a href="../articles/NMdata-FAQ.html">FAQ</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Manual</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="https://github.com/philipdelff/NMdata">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      
    </div>

    <div id="nmdata-0072" class="section level1">
<h1 class="page-header" data-toc-text="0.0.7.2">
<a href="#nmdata-0072" class="anchor"></a>NMdata 0.0.7.2</h1>
<p>NMreadCsv, NMscanInput, and NMscanData take argument args.fread. The contents of this list are passed as arguments to fread when reading csv files. This should only be needed in rare cases but offers full flexibility to match structure of csv files. Default contents of args.fread can be controlled using NMdataConf.</p>
<p>NMwriteData updated with more concise message.</p>
<p>NMreadSection now returns all sections if argument section is missing or equals NULL or “.”.</p>
<p>NMinfo is a new function that provides meta data, processed by as.fun.</p>
<p>If merge.by.row=TRUE, NMscanData now checks if col.row seems to be changed in the Nonmem code. If that is the case, an error is returned.</p>
<p>save argument added to flagsCount function to align with other functions.</p>
<p>NMwriteData now writes meta data to a txt file when writing csv file. NMreadCsv looks for this info and attaches it if found.</p>
<p>NMwriteData takes the argument args.fwrite - a list of arguments passed to fwrite. This is aligned with args.fread used by NMreadCsv. Defaults can be configured using NMdataConf.</p>
<p>Improved and shortened text to console from NMscanData (print.summary_NMdata).</p>
<p>mergeCheck will now throw an explained error if argument df1 has zero rows.</p>
<div id="bugfixes" class="section level2">
<h2 class="hasAnchor">
<a href="#bugfixes" class="anchor"></a>Bugfixes</h2>
<ul>
<li>In the special case where only one data set is given, compareCols used to sort the list of columns in an irrelevant way. Now no reordering is done but the list will match the column order in the data set.</li>
<li>In the NMdata summary, the number of columns from input data are now calculated correctly.</li>
</ul>
</div>
</div>
    <div id="nmdata-0071" class="section level1">
<h1 class="page-header" data-toc-text="0.0.7.1">
<a href="#nmdata-0071" class="anchor"></a>NMdata 0.0.7.1</h1>
<p>compareCols generalized to the single data set case.</p>
<p>mergeCheck has improved warnings when checks fail. This should in most cases provide information for the user to get a good idea what needs to be resolved for the merge to work as expected.</p>
<p>Support for pseudonyms when translating input data column names based on nonmem control stream. Now by default, the column will be returned (doubled) with both peudonyms as column names.</p>
<p>new function - fnExtension is a simple function to replace the extension of a file name (say from file.mod to file.lst)</p>
<p>new function - dims is a simple function that returns a table of the dimensions of multiple data sets. It is used by multiple other functions in the package and may be useful on its own. However, compareCols reports this information too (by calling dims).</p>
<p>NMscanData now has an argument, translate.input, which can be used to skip the translation of column names according to $DATA in the listing file. This can be necessary if input data has changed and hence $DATA is outdated since last model run.</p>
<p>flagsCount now reports cumulative counts of discards too.</p>
<div id="bugfixes-1" class="section level2">
<h2 class="hasAnchor">
<a href="#bugfixes-1" class="anchor"></a>Bugfixes</h2>
<ul>
<li>Correct ordering of rows in compareCols</li>
<li>flagsCount now reports numbers of discarded subjects as intended.</li>
</ul>
</div>
</div>
    <div id="nmdata-007" class="section level1">
<h1 class="page-header" data-toc-text="0.0.7">
<a href="#nmdata-007" class="anchor"></a>NMdata 0.0.7</h1>
<p>This is a major upgrade from 0.0.6.6 featuring many improvements and bug fixes. Everyone is strongly encouraged to upgrade.</p>
<p>The choice between data combination methods in NMscanData is now done in one argument, called merge.by.row. Before the method was decided based on values of two arguments, cbind.by.filters and col.row. A default value for col.row can now be set using NMdataConf and will not affect the data combination method.</p>
<p>Other arguments which default values can now be modified using NMdataConf are: merge.by.row, col.flagn, col.flagc, use.input, recover.rows, col.model, modelname, file.mod, and check.time, quiet, use.rds.</p>
<p>The tools to assign and cound exclusion flags, flagsAssign and flagsCount, have been improved. They now support working on a subset of data (say samples only), and the order (increasing/decreasing) of the exclusion flags is optional. The printing of the count of exclusion flags has been improved.</p>
<p>NMgetSection and NMwriteSection are new functions that can be used to extract sections from and write sections to Nonmem control streams. NMwriteData now returns a list of sections that can be passed directly to NMwriteSection, in order to update control streams to read the updated data file correctly.</p>
<p>compareCols is a very useful new data creation tool. See the difference between presence and classes of columns in data sets. This is useful before rbind’ing or merging - or maybe when those throw an error, and you want to figure out why.</p>
<p>renameByContents is a function that can rename columns which contents match a given criterion. In combination with the provided NMisNumeric, this can be used to rename (say to lowercase) columns that Nonmem cannot interpret (as numeric).</p>
<p>mergeCheck now informs about common column names that are not used to merge by. These will create new column names, and it’s often not intended. An argument has been added (ncols.expected) to check the number of columns added to df1 against expectation.</p>
<p>egdt is a new function for expanding grids of data.tables. This is quite technical, and it fills a whole when constructing data with data.tables. It mimicks the behavior of merge.data.frame on objects with no common columns.</p>
<div id="bugfixes-related-to" class="section level2">
<h2 class="hasAnchor">
<a href="#bugfixes-related-to" class="anchor"></a>Bugfixes related to</h2>
<ul>
<li>Class of return from NMorderData.</li>
<li>NA values in NMisNumeric. This bug would spill over to NMOrderColumns.</li>
<li>Processing rds files including non-data.table objects.</li>
<li>Single-character data filters in Nonmem (say IGNORE=C)</li>
</ul>
</div>
</div>
    <div id="nmdata-0066" class="section level1">
<h1 class="page-header" data-toc-text="0.0.6.6">
<a href="#nmdata-0066" class="anchor"></a>NMdata 0.0.6.6</h1>
<p>Central configuration mechanism implemented. The configuration function to use is NMdataConf. You can configure several options, corresponding to default values of arguments to different functions in the package. This is very useful if you want to change the directory and file naming structure, or if you want to change default column names.</p>
<p>The exclusion flag functions flagsAssign and flagsCount have been generalized to use customizable column names for the numerical and caracter flags. The default can be configured using NMdataConf.</p>
</div>
    <div id="nmdata-0064" class="section level1">
<h1 class="page-header" data-toc-text="0.0.6.4">
<a href="#nmdata-0064" class="anchor"></a>NMdata 0.0.6.4</h1>
<p>If all common column names two data objects to merge are not used for merging (by), new column names are created by merge. The behavior of mergeCheck can now be controlled in case this happens. This is especially useful when using mergeCheck in programming.</p>
<p>A shortcut to system.file(…,package=“NMdata”) has been removed. The function was called NMdata_filepath and is no longer available. Use system.file instead.</p>
</div>
    <div id="nmdata-0063" class="section level1">
<h1 class="page-header" data-toc-text="0.0.6.3">
<a href="#nmdata-0063" class="anchor"></a>NMdata 0.0.6.3</h1>
<p>Meta information added about the input data.</p>
</div>
    <div id="nmdata-0062" class="section level1">
<h1 class="page-header" data-toc-text="0.0.6.2">
<a href="#nmdata-0062" class="anchor"></a>NMdata 0.0.6.2</h1>
<p>A summary function is provided for NMdata objects. There is a print function for the summary too. This is printet automatically by NMdata unless quiet=TRUE.</p>
<p>A lot of meta information has been added in an attribute to NMdata objects. This will help the user to understand and automatically document what has been read.</p>
<p>The argument to NMscanData previously called name has been renamed to modelname and generalized to take a function that derives the name from the file path. Also an general option “NMdata.modelname” has been added, so the default behavior can be configured.</p>
</div>
    <div id="nmdata-0061" class="section level1">
<h1 class="page-header" data-toc-text="0.0.6.1">
<a href="#nmdata-0061" class="anchor"></a>NMdata 0.0.6.1</h1>
<p>The default class to generate is now data.frame rather than data.table. If you want to work with data.tables, do options(NMdata.as.fun=“none”)</p>
</div>
    <div id="nmdata-006" class="section level1">
<h1 class="page-header" data-toc-text="0.0.6">
<a href="#nmdata-006" class="anchor"></a>NMdata 0.0.6</h1>
<p>General support for conversion of output to user-specified class. Setting the option “NMdata.as.fun” to a conversion function such as as.data.frame or tibble::as_tibble it is possible for the user to work with their preferred data class. An argument, as.fun, can be used for the individual functions too.</p>
<p>The translation from the output control stream file path (.lst in PSN) and the input control stream (.mod in PSN) can now be configured through the option “NM.file.mod”. Typically, all the models to be considered in an anlysis have been run on the same system, so it makes most sense to define this behavior once and for all for most users.</p>
<p>NMwriteData improved with checks of column names and automated generation of $INPUT and $DATA Nonmem sections.</p>
<p>NMorderColumns simplified, and documentation improved.</p>
<p>Documentation has been upgraded with a pkgdown site.</p>
<p>New vignette on data set creation tools in NMdata.</p>
<p>New FAQ vignette.</p>
<div id="bugfixes-2" class="section level2">
<h2 class="hasAnchor">
<a href="#bugfixes-2" class="anchor"></a>Bugfixes</h2>
<p>NMtransInput now supports the case where additional unused column names are given in $INPUT than actually found in $DATA. A warning will be given.</p>
</div>
</div>
    <div id="nmdata-005" class="section level1">
<h1 class="page-header" data-toc-text="0.0.5">
<a href="#nmdata-005" class="anchor"></a>NMdata 0.0.5</h1>
<p>This release introduces a consistent default NMscanData behavior that will work in most cases and provide the user with information on how to use a more robust approach to merging input and output data.</p>
<p>Naming of a few arguments to NMscanData has been changed from camelCase to lower.case for consistency.</p>
<p>NMscanTables keeps track of LASTONLY and FIRSTLASTONLY. LASTONLY are now treated like FIRSTONLY while FIRSTLASTONLY tables are disregarded (with a warning).</p>
</div>
    <div id="nmdata-004" class="section level1">
<h1 class="page-header" data-toc-text="0.0.4">
<a href="#nmdata-004" class="anchor"></a>NMdata 0.0.4</h1>
<p>The most obvious change since 0.0.3 is that only one data.table is being returned from NMscanData. This is what used to be the <code>row</code> element in the returned objects previously. The main reason for this change is that it makes it easier for users to postprocess only one dataset before splitting into different levels of variability. The small cost is that the user will have to run findCovs, or findVars to get the desired level of variability. These functions are however very simple to use and very fast to run.</p>
<p>This release features numerous improvements to especially the NMscanData function. The work is mainly focused around use without a row identifier. Even without a row identifier, NMscanData should now work for the vast majority of models, including merging with input and recovering rows.</p>
<p>An attribute called <code>vars</code> has been added to the NMdata objects coming out of NMscanData. It features a table of the columns in the returned object and information about where they originate from. More work is still to be done on this, but hopefully it is useful already.</p>
<p>NMwriteData: Added support for passing arguments to saveRDS.</p>
<p>Last but far from least is a new vignette on using NMscanData. Check it out with vignette(“NMscanData”).</p>
</div>
    <div id="nmdata-002" class="section level1">
<h1 class="page-header" data-toc-text="0.0.2">
<a href="#nmdata-002" class="anchor"></a>NMdata 0.0.2</h1>
<p>This release contains bugfixes and experimental support for merging nonmem input and output data without a row identifier.</p>
<p>A clearer cut has been made between the pmxtricks package (version 0.0.10) and NMdata. The packages should not overlap in exported functionality, and they do not depend on each other.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>


      <footer>
      <div class="copyright">
  <p>Developed by Philip Delff.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


