<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>automatically find Nonmem tables and organize data — NMscanData • NMdata</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="automatically find Nonmem tables and organize data — NMscanData" />
<meta property="og:description" content="automatically find Nonmem tables and organize data" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">NMdata</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.5.7</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/NMscanData.html">Automated and general reader of Nonmem data</a>
    </li>
    <li>
      <a href="../articles/DataCreate.html">Data creation tools</a>
    </li>
    <li>
      <a href="../articles/NMdata-FAQ.html">FAQ</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Manual</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="https://github.com/philipdelff/NMdata">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>automatically find Nonmem tables and organize data</h1>
    
    <div class="hidden name"><code>NMscanData.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>automatically find Nonmem tables and organize data</p>
    </div>

    <pre class="usage"><span class='fu'>NMscanData</span>(
  <span class='kw'>file</span>,
  <span class='kw'>col.row</span>,
  <span class='kw'>cbind.by.filters</span>,
  use.input = <span class='fl'>TRUE</span>,
  recover.rows = <span class='fl'>FALSE</span>,
  add.name = <span class='st'>"model"</span>,
  <span class='kw'>name</span>,
  <span class='kw'>file.mod</span>,
  <span class='kw'>dir.data</span>,
  quiet = <span class='fl'>FALSE</span>,
  use.rds = <span class='fl'>TRUE</span>,
  as.fun = <span class='kw'>NULL</span>,
  col.id = <span class='st'>"ID"</span>,
  tab.count = <span class='fl'>FALSE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>file</th>
      <td><p>A nonmem control stream or output file from nonmem
(.mod or .lst)</p></td>
    </tr>
    <tr>
      <th>col.row</th>
      <td><p>A column with a unique value for each row. Such a
column is recommended to use if possible. See cbind.by.filters
and details as well.</p></td>
    </tr>
    <tr>
      <th>cbind.by.filters</th>
      <td><p>If TRUE, Nonmem data filtering is
interpreted from lst file (restrictions apply), and after an
imitated selection of rows, data columns will be appended to
output data. This method relies on interpretation of Nonmem
code, and it will not work in advanced use of IGNORE and
ACCEPT statements in $INPUT. Consider using col.row instead,
if possible. Default is TRUE if col.row is either missing or
NULL. However, explicitly specifying cbind.by.filters is
recommended if that is the intended behaviour. If not,
NMscanData will search for potential columns to merge by and
print information about it. See col.row (recommended method)
as well.</p></td>
    </tr>
    <tr>
      <th>use.input</th>
      <td><p>Merge with columns in input data? Using this, you
don't have to worry about remembering including all relevant
variables in the output tables.</p></td>
    </tr>
    <tr>
      <th>recover.rows</th>
      <td><p>Include rows from input data files that do not
exist in output tables? This will be added to the $row dataset
only, and $run, $id, and $occ datasets are created before this
is taken into account. A column called nmout will be TRUE when
the row was found in output tables, and FALSE when not. This
is still experimental. More testing is needed.</p></td>
    </tr>
    <tr>
      <th>add.name</th>
      <td><p>If a character string, a column of this name will
be included in all tables containing the model name. The
default is to store this in a column called "model". See
argument "name" as well. Set to NULL if not wanted.</p></td>
    </tr>
    <tr>
      <th>name</th>
      <td><p>The model name to be stored if add.name is not
NULL. If name is not supplied, the name will be taken from the
control stream file name.</p></td>
    </tr>
    <tr>
      <th>file.mod</th>
      <td><p>The input control stream. Default is to look for
\"file\" with extension changed to .mod (PSN style). You can
also supply the path to the file, or you can provide a
function that translates the output file path to the input
file path. See dir.data too.</p></td>
    </tr>
    <tr>
      <th>dir.data</th>
      <td><p>The data directory can only be read from the
control stream (.mod) and not from the output file (.lst). So
if you only have the output file, use dir.data to tell in
which directory to find the data file. If dir.data is
provided, the .mod file is not used at all.</p></td>
    </tr>
    <tr>
      <th>quiet</th>
      <td><p>The default is to give some information along the way
on what data is found. But consider setting this to TRUE for
non-interactive use.</p></td>
    </tr>
    <tr>
      <th>use.rds</th>
      <td><p>If an rds file is found with the exact same name
(except for .rds instead of say .csv) as the input data file
mentioned in the Nonmem control stream, should this be used
instead? The default is yes, and NMwriteData will create this
by default too.</p></td>
    </tr>
    <tr>
      <th>as.fun</th>
      <td><p>The default is to return data in data.tables. Pass a
function in as.fun to convert to something else. If
data.frames are wanted, use as.fun=as.data.frame.</p></td>
    </tr>
    <tr>
      <th>col.id</th>
      <td><p>The name of the subject ID variable, default is
"ID".</p></td>
    </tr>
    <tr>
      <th>tab.count</th>
      <td><p>Nonmem includes a counter of tables in the
written data files. These are often not useful. Especially for
NMscanData output it can be meaningless because multiple
tables can be combined so this information is not unique
across those source tables. However, if tab.count is TRUE (not
default), this will be carried forward and added as a column
called TABLENO.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function makes it very easy to collect the data from
    a Nonmem run.</p>
<p>A useful feature of this function is that it can automatically
combine "input" data (the data read by nonmem in $INPUT or
$INFILE) with "output" data (tables written by nonmem in
$TABLE). There are two implemented methods for doing so. One (the
default but not recommended) relies on interpretation of filter
(IGNORE and ACCEPT) statements in $INPUT. This will work in most
cases, and checks for consistency with Nonmem results. However,
the recommended method is using a unique row identifier in both
input data and at least one output data file (not a FIRSTONLY or
LASTONLY table). Supply the name of this column using the col.row
argument.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other DataRead: 
<code><a href='NMreadCsv.html'>NMreadCsv</a>()</code>,
<code><a href='NMreadTab.html'>NMreadTab</a>()</code>,
<code><a href='NMscanTables.html'>NMscanTables</a>()</code>,
<code><a href='NMtransInput.html'>NMtransInput</a>()</code></p></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Philip Delff.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


