<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Write dataset for use in Nonmem (and R) — NMwriteData • NMdata</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Write dataset for use in Nonmem (and R) — NMwriteData"><meta property="og:description" content="Instead of trying to remember the arguments to pass to write.csv,
use this wrapper. It tells you what to write in $DATA and $INPUT
in nonmem, and it (additionally) exports an rds or Rdata file as
well which is highly preferable for use in R. It never edits the
data before writing the datafile. The filenames for csv, rds
etc. are derived by replacing the extension to the filename given
in the file argument."><meta property="og:image" content="https://philipdelff.github.io/NMdata/reference/figures/apple-touch-icon-180x180.png"><meta property="og:image:alt" content="Efficient data preparation, consistency-checking and post-processing in PK/PD modeling"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">NMdata</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.10.921</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="https://htmlpreview.github.io/?https://github.com/philipdelff/NMdata/blob/master/vignettes/NMdata-cheat.html" class="external-link">Cheat Sheet</a>
    </li>
    <li>
      <a href="../articles/NMscanData.html">NMscanData: find and combine all output and input data</a>
    </li>
    <li>
      <a href="../articles/DataPrepare.html">Data Preparation Tools</a>
    </li>
    <li>
      <a href="../articles/NMdata-FAQ.html">FAQ</a>
    </li>
  </ul></li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="https://github.com/philipdelff/NMdata/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Write dataset for use in Nonmem (and R)</h1>
    <small class="dont-index">Source: <a href="https://github.com/philipdelff/NMdata/blob/HEAD/R/NMwriteData.R" class="external-link"><code>R/NMwriteData.R</code></a></small>
    <div class="hidden name"><code>NMwriteData.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Instead of trying to remember the arguments to pass to write.csv,
use this wrapper. It tells you what to write in $DATA and $INPUT
in nonmem, and it (additionally) exports an rds or Rdata file as
well which is highly preferable for use in R. It never edits the
data before writing the datafile. The filenames for csv, rds
etc. are derived by replacing the extension to the filename given
in the file argument.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">NMwriteData</span><span class="op">(</span>
  <span class="va">data</span>,
  <span class="va">file</span>,
  write.csv <span class="op">=</span> <span class="cn">TRUE</span>,
  write.rds <span class="op">=</span> <span class="va">write.csv</span>,
  write.RData <span class="op">=</span> <span class="cn">FALSE</span>,
  <span class="va">script</span>,
  <span class="va">args.stamp</span>,
  <span class="va">args.fwrite</span>,
  <span class="va">args.rds</span>,
  <span class="va">args.RData</span>,
  <span class="va">quiet</span>,
  <span class="va">args.NMgenText</span>,
  <span class="va">nm.drop</span>,
  <span class="va">nmdir.data</span>,
  <span class="va">col.flagn</span>,
  <span class="va">nm.rename</span>,
  <span class="va">nm.copy</span>,
  <span class="va">nm.capitalize</span>,
  <span class="va">allow.char.TIME</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data</dt>
<dd><p>The dataset to write to file for use in Nonmem.</p></dd>
<dt>file</dt>
<dd><p>The file to write to. The extension (everything after
and including last ".") is dropped. csv, rds and other
standard file name extensions are added.</p></dd>
<dt>write.csv</dt>
<dd><p>Write to csv file?</p></dd>
<dt>write.rds</dt>
<dd><p>write an rds file?</p></dd>
<dt>write.RData</dt>
<dd><p>In case you want to save to .RData object. Not
recommended. Use write.rds instead.</p></dd>
<dt>script</dt>
<dd><p>If provided, the object will be stamped with this
script name before saved to rds or Rdata. See ?NMstamp.</p></dd>
<dt>args.stamp</dt>
<dd><p>A list of arguments to be passed to NMstamp.</p></dd>
<dt>args.fwrite</dt>
<dd><p>List of arguments passed to fwrite. Notice that
except for "x" and "file", you need to supply all arguments to
fwrite if you use this argument. Default values can be
configured using NMdataConf.</p></dd>
<dt>args.rds</dt>
<dd><p>A list of arguments to be passed to saveRDS.</p></dd>
<dt>args.RData</dt>
<dd><p>A list of arguments to be passed to save.</p></dd>
<dt>quiet</dt>
<dd><p>The default is to give some information along the way
on what data is found. But consider setting this to TRUE for
non-interactive use. Default can be configured using
NMdataConf.</p></dd>
<dt>args.NMgenText</dt>
<dd><p>List of arguments to pass to NMgenText - the
function that generates text suggestion for INPUT and DATA
sections in the NONMEM control stream. You can use these
arguments to get a text suggestion you an use directly in
NONMEM - and NwriteSection can even update multiple NONMEM
control streams based on the result. This will update your
control streams to match your new data file with just one
command.</p></dd>
<dt>nm.drop</dt>
<dd><p>Deprecated, use
args.NMgenText=list(drop=c("column")) instead.</p></dd>
<dt>nmdir.data</dt>
<dd><p>Deprecated, use
args.NMgenText=list(dir.data="your/path") instead.</p></dd>
<dt>col.flagn</dt>
<dd><p>Name of a numeric column with zero value for rows
to include in Nonmem run, non-zero for rows to skip. The
argument is only used for generating the proposed $DATA text to
paste into the Nonmem control stream. To skip this feature,
use col.flagn=NULL.</p></dd>
<dt>nm.rename</dt>
<dd><p>Deprecated, use
args.NMgenText=list(rename=c(newname="existing")) instead.</p></dd>
<dt>nm.copy</dt>
<dd><p>Deprecated, use
args.NMgenText=list(copy=c(newname="existing")) instead.</p></dd>
<dt>nm.capitalize</dt>
<dd><p>Deprecated, use
args.NMgenText=list(capitalize=TRUE) instead.</p></dd>
<dt>allow.char.TIME</dt>
<dd><p>Deprecated, use
args.NMgenText=list(allow.char.TIME=TRUE) instead.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>Text for inclusion in Nonmem control stream, invisibly.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>When writing csv files, the file will be
    comma-separated. Because Nonmem does not support quoted
    fields, you must avoid commas in character fields. An error is
    returned if commas are found in strings.</p>
<p>The user is provided with text to use in Nonmem. This lists names
of the data columns. Once a column is reached that Nonmem will not
be able to read as a numeric and column is not in nm.drop, the list
is stopped. Only exception is TIME which is not tested for whether
character or not.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other Nonmem: 
<code><a href="NMapplyFilters.html">NMapplyFilters</a>()</code>,
<code><a href="NMextractText.html">NMextractText</a>()</code>,
<code><a href="NMgenText.html">NMgenText</a>()</code>,
<code><a href="NMreadSection.html">NMreadSection</a>()</code>,
<code><a href="NMwriteSection.html">NMwriteSection</a>()</code></p></div>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Philip Delff.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  <script data-goatcounter="https://nmdata.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script></body></html>

