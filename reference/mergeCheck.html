<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Merge, order, and check resulting rows and columns. — mergeCheck • NMdata</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Merge, order, and check resulting rows and columns. — mergeCheck"><meta property="og:description" content="This function is a useful wrapper for merges where df1 will be
extended with columns from df2, i.e. all rows in df1 are retained,
and no new rows can be created. For this very common type of
(simple) merges, mergeCheck does the merge and ensures that
exactly this and nothing else happened. Notice, mergeCheck passes
the hard work to merge.data.table, the contributions lies in
checking that the results are consistent with the simple merge
described above."><meta property="og:image" content="https://philipdelff.github.io/NMdata/reference/figures/apple-touch-icon-180x180.png"><meta property="og:image:alt" content="Efficient data preparation, consistency-checking and post-processing in PK/PD modeling"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">NMdata</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.9.954</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/NMdata-cheat.html">Cheat Sheet</a>
    </li>
    <li>
      <a href="../articles/NMscanData.html">NMscanData: find and combine all output and input data</a>
    </li>
    <li>
      <a href="../articles/DataCreate.html">Data creation tools</a>
    </li>
    <li>
      <a href="../articles/NMdata-FAQ.html">FAQ</a>
    </li>
  </ul></li>
<li>
  <a href="../reference/index.html">Manual</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="https://github.com/philipdelff/NMdata" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/philipdelff/NMdata" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Merge, order, and check resulting rows and columns.</h1>
    <small class="dont-index">Source: <a href="https://github.com/philipdelff/NMdata/blob/HEAD/R/mergeCheck.R" class="external-link"><code>R/mergeCheck.R</code></a></small>
    <div class="hidden name"><code>mergeCheck.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function is a useful wrapper for merges where df1 will be
extended with columns from df2, i.e. all rows in df1 are retained,
and no new rows can be created. For this very common type of
(simple) merges, mergeCheck does the merge and ensures that
exactly this and nothing else happened. Notice, mergeCheck passes
the hard work to merge.data.table, the contributions lies in
checking that the results are consistent with the simple merge
described above.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">mergeCheck</span><span class="op">(</span>
  <span class="va">df1</span>,
  <span class="va">df2</span>,
  <span class="va">by</span>,
  fun.commoncols <span class="op">=</span> <span class="fu">base</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/r/base/warning.html" class="external-link">warning</a></span>,
  <span class="va">ncols.expect</span>,
  track.msg <span class="op">=</span> <span class="cn">FALSE</span>,
  <span class="va">quiet</span>,
  <span class="va">as.fun</span>,
  <span class="va">...</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>df1</dt>
<dd><p>A data.frame with the number of rows must should be
obtained from the merge. The resulting data.frame will be
ordered like df1.</p></dd>
<dt>df2</dt>
<dd><p>A data.frame that will be merged onto df1.</p></dd>
<dt>by</dt>
<dd><p>The column(s) to merge by. Character string
(vector). by or by.x and by.y must be supplied.</p></dd>
<dt>fun.commoncols</dt>
<dd><p>If common columns are found in df1 and df2,
and they are not used in by, this will create columns named
like col.x and col.y in result (see ?merge). Often, this is a
mistake, and the default is to throw a warning if this
happens. If using mergeCheck in a function, you may want to
make sure this is not happening and use
fun.commoncols=stop. If you want nothing to happen, you can do
fun.commoncols=NULL.</p></dd>
<dt>ncols.expect</dt>
<dd><p>If you want to include a check of the number
of columns being added to the dimensions of df1. So if
ncols.expect=1, the resulting data must have exactly one
column more than df1 - if not, an error will be returned.</p></dd>
<dt>track.msg</dt>
<dd><p>If using mergeCheck inside other functions, it
can be useful to use track.msg=TRUE. This will add information
to messages/warnings/errors that they came from mergCheck.</p></dd>
<dt>quiet</dt>
<dd><p>If FALSE, the names of the added columns are
reported. Default value controlled by NMdataConf.</p></dd>
<dt>as.fun</dt>
<dd><p>The default is to return a data.table if df1 is a
data.table and return a data.frame in all other cases. Pass a
function in as.fun to convert to something else.</p></dd>
<dt>...</dt>
<dd><p>additional arguments passed to data.table::merge. If
all is among them, an error will be returned.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>a data.frame resulting from merging df1 and df2. Class as
    defined by as.fun.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Besides merging and checking rows, mergeCheck makes sure
    the order in df1 is retained in the resulting data. Also, a
    warning is given if column names are overlapping, making merge
    create new column names like col.x and col.y. Merges and other
    operations are done using data.table. If df1 is a data.frame
    (and not a data.table), it will internally be converted to a
    data.table, and the resulting data.table will be converted
    back to a data.frame before returning.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other DataCreate: 
<code><a href="NMorderColumns.html">NMorderColumns</a>()</code>,
<code><a href="NMstamp.html">NMstamp</a>()</code>,
<code><a href="findCovs.html">findCovs</a>()</code>,
<code><a href="findVars.html">findVars</a>()</code>,
<code><a href="flagsAssign.html">flagsAssign</a>()</code>,
<code><a href="flagsCount.html">flagsCount</a>()</code>,
<code><a href="tmpcol.html">tmpcol</a>()</code></p></div>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Philip Delff.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer></div>

  


  

  </body></html>

